<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

  <!--radix_placeholder_meta_tags-->
<title>The Mockup Blog: Functions and Themes for gt tables</title>

<meta property="description" itemprop="description" content="Save time and effort in making beautiful tables"/>

<link rel="canonical" href="https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2020-09-28"/>
<meta property="article:created" itemprop="dateCreated" content="2020-09-28"/>
<meta name="article:author" content="Thomas Mock"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="The Mockup Blog: Functions and Themes for gt tables"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Save time and effort in making beautiful tables"/>
<meta property="og:url" content="https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/"/>
<meta property="og:image" content="https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/pff-themed-gt.png"/>
<meta property="og:image:width" content="2090"/>
<meta property="og:image:height" content="1554"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="The Mockup Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="The Mockup Blog: Functions and Themes for gt tables"/>
<meta property="twitter:description" content="Save time and effort in making beautiful tables"/>
<meta property="twitter:url" content="https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/"/>
<meta property="twitter:image" content="https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/pff-themed-gt.png"/>
<meta property="twitter:image:width" content="2090"/>
<meta property="twitter:image:height" content="1554"/>
<meta property="twitter:site" content="@thomas_mock"/>
<meta property="twitter:creator" content="@thomas_mock"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="The Mockup Blog: Functions and Themes for gt tables"/>
<meta name="citation_fulltext_html_url" content="https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/"/>
<meta name="citation_online_date" content="2020/09/28"/>
<meta name="citation_publication_date" content="2020/09/28"/>
<meta name="citation_author" content="Thomas Mock"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","base_url","date","output","categories","preview","twitter","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Functions and Themes for gt tables"]},{"type":"character","attributes":{},"value":["Save time and effort in making beautiful tables"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Thomas Mock"]},{"type":"character","attributes":{},"value":["https://twitter.com/thomas_mock"]}]}]},{"type":"character","attributes":{},"value":["https://themockup.blog"]},{"type":"character","attributes":{},"value":["09-28-2020"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["tables","tidyverse","gt","NFL"]},{"type":"character","attributes":{},"value":["pff-themed-gt.png"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["site","creator"]}},"value":[{"type":"character","attributes":{},"value":["@thomas_mock"]},{"type":"character","attributes":{},"value":["@thomas_mock"]}]},{"type":"character","attributes":{},"value":["https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/"]},{"type":"character","attributes":{},"value":["https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["538-style.png","538-table.png","538-themed-gt.png","espn-style.png","espn-tab.png","espn-themed-gt.png","functions-and-themes-for-gt-tables_files/bowser-1.9.3/bowser.min.js","functions-and-themes-for-gt-tables_files/distill-2.2.21/template.v2.js","functions-and-themes-for-gt-tables_files/figure-html5/unnamed-chunk-4-1.png","functions-and-themes-for-gt-tables_files/figure-html5/unnamed-chunk-5-1.png","functions-and-themes-for-gt-tables_files/header-attrs-2.3/header-attrs.js","functions-and-themes-for-gt-tables_files/jquery-1.11.3/jquery.min.js","functions-and-themes-for-gt-tables_files/panelset-0.2.3.9000/panelset.css","functions-and-themes-for-gt-tables_files/panelset-0.2.3.9000/panelset.js","functions-and-themes-for-gt-tables_files/webcomponents-2.0.0/webcomponents.js","pff-example.png","pff-themed-gt.png","rb-pass-2018.png","rb-pass-2019.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createIndex() {
  var options = {
    keys: [
      "title",
      "categories",
      "description",
      "contents"
    ]
  };
  return new window.Fuse([],options);
}

function createFuseIndex() {

  // create fuse index
  var options = { keys: ["title", "description", "contents"] };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
            keys: [
              { name: 'title', weight: 20 },
              { name: 'categories', weight: 15 },
              { name: 'description', weight: 10 },
              { name: 'contents', weight: 5 },
            ],
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
            .filter(function(item) { return !!item.description; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description}
                </div>
                <div class="search-item-preview">
                  <img src="${suggestion.preview ? offsetURL(suggestion.preview) : ''}"</img>
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: hidden;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.3/header-attrs.js"></script>
  <link href="../../site_libs/panelset-0.2.3.9000/panelset.css" rel="stylesheet" />
  <script src="../../site_libs/panelset-0.2.3.9000/panelset.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166026965-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-166026965-1');
</script>
<style type="text/css">
@import url('https://fonts.googleapis.com/css2?family=Lato');
@import url('https://fonts.googleapis.com/css2?family=Fira+Mono');


.distill-site-nav {
  font-family: 'Fira Mono', sans-serif;
  color: #000;
  background-color: #fff;
  font-size: 15px;
  font-weight: 400;
}

.distill-site-header {
  font-family: 'Fira Mono', sans-serif;
  color: #000;
  background-color: #fff;
  font-size: 15px;
  font-weight: 400;
}

html, body, p {
  
  font-family: 'Lato', sans-serif;
  font-weight: 200;
  line-height: 1.3; 
  font-size: 1.0em;
  color: #333333;
  font-style: normal;
  
}

code {
  font-family: 'Fira Mono', sans-serif;
  color: #383838;
  font-weight: 400;
  font-size: 0.9em;
}




h1, h2, h3, h4, h5 {
  font-family: 'Fira Mono', sans-serif;
}


.distill-site-nav a {
  
  font-family: 'Fira Mono', sans-serif;
  font-weight: 500;
  font-size: 15px;
  color: #000;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: #ff6700;
}

.nav-dropdown-content a {
  font-family: 'Fira Mono', sans-serif;
  font-weight: 500;
  color: #ffffff;
}

.distill-site-header {
  font-family: 'Fira Mono', sans-serif;
  font-weight: 500;
  background-color: #ffffff;
}

.distill-site-footer {
  background-color: #000;
  color: #ffffff;
}


@media print {
  .distill-site-nav {
    display: none;
  }
}

details {
  background-color: hsla(60, 7%, 80%, 0.2);
  cursor: pointer;
  color: #2d2d2d;
  margin-bottom:1vh;
  padding: 1em;
  border: none;
  text-align: left;
  outline: none;
}

.active, details:hover {
  transition: max-height 0.2s ease-out;
  /* background-color: #acc2c2; */
}

details {
  display: flex;
  justify-content: space-between;
  align-content: center;
  border-radius: 4px;
}

details.active {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

summary::-webkit-details-marker {
  display: none
}

summary::after {
  float: right;
  font-family: "Font Awesome 5 Free";
  content: "\f0fe";
}

details[open] summary::after {
  float: right;
  font-family: "Font Awesome 5 Free";
  content: "\f146";
}

details h4 {
margin: 0;
color: #2d2d2d !important;
line-height: inherit;
}
</style>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Functions and Themes for gt tables","description":"Save time and effort in making beautiful tables","authors":[{"author":"Thomas Mock","authorURL":"https://twitter.com/thomas_mock","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2020-09-28T00:00:00.000-05:00","citationText":"Mock, 2020"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">The Mockup Blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../resources.html">Resources</a>
<a href="../../about.html">About</a>
<a href="https://twitter.com/thomas_mock">
<i class="fa fa-twitter" aria-hidden="true"></i>
</a>
<a href="https://github.com/jthomasmock">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Functions and Themes for gt tables</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:tables" class="dt-tag">tables</a>
  <a href="../../index.html#category:tidyverse" class="dt-tag">tidyverse</a>
  <a href="../../index.html#category:gt" class="dt-tag">gt</a>
  <a href="../../index.html#category:NFL" class="dt-tag">NFL</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Save time and effort in making beautiful tables</p></p>
</div>

<div class="d-byline">
  Thomas Mock <a href="https://twitter.com/thomas_mock" class="uri">https://twitter.com/thomas_mock</a> 
  
<br/>09-28-2020
</div>

<div class="d-article">
<div class="d-contents">
<nav class="toc" id="TOC">
<h3>Table of Contents</h3>
<ul>
<li><a href="#gt-tables"><code>gt</code> tables</a>
<ul>
<li><a href="#better-example">Better Example</a></li>
</ul></li>
<li><a href="#gt-themes"><code>gt</code> Themes</a>
<ul>
<li><a href="#basic-theme">Basic Theme</a></li>
<li><a href="#espn">ESPN</a></li>
<li><a href="#pff">PFF</a></li>
</ul></li>
<li><a href="#fivethirtyeight">FiveThirtyEight</a></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<h2 id="gt-tables"><code>gt</code> tables</h2>
<p>I’m continuing my series on <code>gt</code> tables with an exploration of <code>gt</code> functions and themes. Technically, they could be treated as the same thing but slightly different use cases.</p>
<p>For a function - I would think of the <code>gt</code> table as the final output, whereas a theme is applied to an existing <code>gt</code> table.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
library(tidyverse)
library(gt)
library(espnscrapeR)</code></pre>
</div>
<p>If you’ve never written a function, I’d recommend reading the <a href="https://r4ds.had.co.nz/functions.html">functions chapter</a> from the R4DS book.</p>
<p>For an example, here’s a quick function with <code>gt</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars_table &lt;- function(cyl_match = 6){
  mtcars %&gt;% 
    filter(cyl == cyl_match) %&gt;% 
    head() %&gt;% 
    gt() %&gt;% 
    tab_header(
      title = glue::glue(&quot;Table for cars with {cyl_match} cylinders&quot;)
    )
}

mtcars_table(4)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#nwmiyklkul .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nwmiyklkul .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nwmiyklkul .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nwmiyklkul .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nwmiyklkul .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nwmiyklkul .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nwmiyklkul .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nwmiyklkul .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nwmiyklkul .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nwmiyklkul .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nwmiyklkul .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nwmiyklkul .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#nwmiyklkul .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nwmiyklkul .gt_from_md > :first-child {
  margin-top: 0;
}

#nwmiyklkul .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nwmiyklkul .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nwmiyklkul .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#nwmiyklkul .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nwmiyklkul .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#nwmiyklkul .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nwmiyklkul .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nwmiyklkul .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nwmiyklkul .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nwmiyklkul .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nwmiyklkul .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#nwmiyklkul .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nwmiyklkul .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#nwmiyklkul .gt_left {
  text-align: left;
}

#nwmiyklkul .gt_center {
  text-align: center;
}

#nwmiyklkul .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nwmiyklkul .gt_font_normal {
  font-weight: normal;
}

#nwmiyklkul .gt_font_bold {
  font-weight: bold;
}

#nwmiyklkul .gt_font_italic {
  font-style: italic;
}

#nwmiyklkul .gt_super {
  font-size: 65%;
}

#nwmiyklkul .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="nwmiyklkul" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="11" class="gt_heading gt_title gt_font_normal" style>Table for cars with 4 cylinders</th>
    </tr>
    <tr>
      <th colspan="11" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108.0</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">24.4</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">146.7</td>
      <td class="gt_row gt_right">62</td>
      <td class="gt_row gt_right">3.69</td>
      <td class="gt_row gt_right">3.190</td>
      <td class="gt_row gt_right">20.00</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">140.8</td>
      <td class="gt_row gt_right">95</td>
      <td class="gt_row gt_right">3.92</td>
      <td class="gt_row gt_right">3.150</td>
      <td class="gt_row gt_right">22.90</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">32.4</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">78.7</td>
      <td class="gt_row gt_right">66</td>
      <td class="gt_row gt_right">4.08</td>
      <td class="gt_row gt_right">2.200</td>
      <td class="gt_row gt_right">19.47</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30.4</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">75.7</td>
      <td class="gt_row gt_right">52</td>
      <td class="gt_row gt_right">4.93</td>
      <td class="gt_row gt_right">1.615</td>
      <td class="gt_row gt_right">18.52</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">33.9</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">71.1</td>
      <td class="gt_row gt_right">65</td>
      <td class="gt_row gt_right">4.22</td>
      <td class="gt_row gt_right">1.835</td>
      <td class="gt_row gt_right">19.90</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>In this case, we’re just using the table to generate our output of interest. Now something cool about <code>gt</code> since it’s pipe-oriented, is that you can continue working with the table. So let’s make some changes from our <code>gt</code> function.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars_table(6) %&gt;% 
  opt_all_caps() %&gt;% 
  opt_align_table_header(&quot;left&quot;)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#wdrnufnpdj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wdrnufnpdj .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wdrnufnpdj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wdrnufnpdj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wdrnufnpdj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wdrnufnpdj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wdrnufnpdj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wdrnufnpdj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wdrnufnpdj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wdrnufnpdj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wdrnufnpdj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wdrnufnpdj .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#wdrnufnpdj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wdrnufnpdj .gt_from_md > :first-child {
  margin-top: 0;
}

#wdrnufnpdj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wdrnufnpdj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wdrnufnpdj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#wdrnufnpdj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wdrnufnpdj .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#wdrnufnpdj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wdrnufnpdj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wdrnufnpdj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wdrnufnpdj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wdrnufnpdj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wdrnufnpdj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#wdrnufnpdj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wdrnufnpdj .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#wdrnufnpdj .gt_left {
  text-align: left;
}

#wdrnufnpdj .gt_center {
  text-align: center;
}

#wdrnufnpdj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wdrnufnpdj .gt_font_normal {
  font-weight: normal;
}

#wdrnufnpdj .gt_font_bold {
  font-weight: bold;
}

#wdrnufnpdj .gt_font_italic {
  font-style: italic;
}

#wdrnufnpdj .gt_super {
  font-size: 65%;
}

#wdrnufnpdj .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="wdrnufnpdj" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="11" class="gt_heading gt_title gt_font_normal" style>Table for cars with 6 cylinders</th>
    </tr>
    <tr>
      <th colspan="11" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160.0</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160.0</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.875</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.4</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">258.0</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.08</td>
      <td class="gt_row gt_right">3.215</td>
      <td class="gt_row gt_right">19.44</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.1</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">225.0</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">2.76</td>
      <td class="gt_row gt_right">3.460</td>
      <td class="gt_row gt_right">20.22</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">19.2</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">167.6</td>
      <td class="gt_row gt_right">123</td>
      <td class="gt_row gt_right">3.92</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">18.30</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">17.8</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">167.6</td>
      <td class="gt_row gt_right">123</td>
      <td class="gt_row gt_right">3.92</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">18.90</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>So our function can generate a <code>gt</code> table, and we can then apply any other changes we need to the existing table.</p>
<p>Since this is a toy example, it’s not very exciting, so let’s continue on!</p>
<h3 id="better-example">Better Example</h3>
<p>Let’s grab a quick example from my <a href="https://jthomasmock.github.io/espnscrapeR/reference/get_nfl_qbr.html"><code>espnscrapeR</code> package</a>. Each week, QBs are given a QBR (Quarterback Rating) score from ESPN.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
library(espnscrapeR)

get_nfl_qbr(season = 2020, week = 1)</code></pre>
<pre><code>
# A tibble: 32 x 20
   season season_type game_week  rank team  first_name last_name name 
    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;
 1   2020 Regular     1             1 BAL   Lamar      Jackson   Lama…
 2   2020 Regular     1             2 GB    Aaron      Rodgers   Aaro…
 3   2020 Regular     1             3 KC    Patrick    Mahomes   Patr…
 4   2020 Regular     1             4 SEA   Russell    Wilson    Russ…
 5   2020 Regular     1             5 JAX   Gardner    Minshew … Gard…
 6   2020 Regular     1             6 NO    Drew       Brees     Drew…
 7   2020 Regular     1             7 ARI   Kyler      Murray    Kyle…
 8   2020 Regular     1             8 TEN   Ryan       Tannehill Ryan…
 9   2020 Regular     1             9 CAR   Teddy      Bridgewa… Tedd…
10   2020 Regular     1            10 LV    Derek      Carr      Dere…
# … with 22 more rows, and 12 more variables: short_name &lt;chr&gt;,
#   qbr_total &lt;dbl&gt;, points_added &lt;dbl&gt;, qb_plays &lt;dbl&gt;,
#   total_epa &lt;dbl&gt;, pass &lt;dbl&gt;, run &lt;dbl&gt;, exp_sack &lt;dbl&gt;,
#   penalty &lt;dbl&gt;, raw_qbr &lt;dbl&gt;, sack &lt;dbl&gt;, headshot_href &lt;chr&gt;</code></pre>
</div>
<p>Let’s use a function to generate a relatively clean table quickly. Our goal here is to take the process of collecting and cleaning data then generating a <code>gt</code> table into a simple function for the year + week of interest.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="panelset">
<section id="table" class="panel-name panel">
<h2 class="panel-name">Table</h2>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
qbr_table(2020, 1)</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#neooussciw .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 600px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#neooussciw .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#neooussciw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#neooussciw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#neooussciw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#neooussciw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#neooussciw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#neooussciw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#neooussciw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#neooussciw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#neooussciw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#neooussciw .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#neooussciw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#neooussciw .gt_from_md > :first-child {
  margin-top: 0;
}

#neooussciw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#neooussciw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#neooussciw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#neooussciw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#neooussciw .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#neooussciw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#neooussciw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#neooussciw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#neooussciw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#neooussciw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#neooussciw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#neooussciw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#neooussciw .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#neooussciw .gt_left {
  text-align: left;
}

#neooussciw .gt_center {
  text-align: center;
}

#neooussciw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#neooussciw .gt_font_normal {
  font-weight: normal;
}

#neooussciw .gt_font_bold {
  font-weight: bold;
}

#neooussciw .gt_font_italic {
  font-style: italic;
}

#neooussciw .gt_super {
  font-size: 65%;
}

#neooussciw .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="neooussciw" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="8" class="gt_heading gt_title gt_font_normal" style>Top 10 QBs for week 1 of 2020</th>
    </tr>
    <tr>
      <th colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">rk</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">plays</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">pass</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">run</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">sack</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_left">BAL</td>
      <td class="gt_row gt_left">L. Jackson</td>
      <td class="gt_row gt_right">95.1</td>
      <td class="gt_row gt_right">34</td>
      <td class="gt_row gt_right">7.5</td>
      <td class="gt_row gt_right">-0.6</td>
      <td class="gt_row gt_right">-0.4</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2</td>
      <td class="gt_row gt_left">GB</td>
      <td class="gt_row gt_left">A. Rodgers</td>
      <td class="gt_row gt_right">92.2</td>
      <td class="gt_row gt_right">48</td>
      <td class="gt_row gt_right">9.9</td>
      <td class="gt_row gt_right">0.7</td>
      <td class="gt_row gt_right">0.0</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_left">KC</td>
      <td class="gt_row gt_left">P. Mahomes</td>
      <td class="gt_row gt_right">88.3</td>
      <td class="gt_row gt_right">36</td>
      <td class="gt_row gt_right">7.2</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">-0.5</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">4</td>
      <td class="gt_row gt_left">SEA</td>
      <td class="gt_row gt_left">R. Wilson</td>
      <td class="gt_row gt_right">87.4</td>
      <td class="gt_row gt_right">46</td>
      <td class="gt_row gt_right">6.5</td>
      <td class="gt_row gt_right">-0.8</td>
      <td class="gt_row gt_right">-1.5</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_left">JAX</td>
      <td class="gt_row gt_left">G. Minshew II</td>
      <td class="gt_row gt_right">80.7</td>
      <td class="gt_row gt_right">29</td>
      <td class="gt_row gt_right">2.5</td>
      <td class="gt_row gt_right">-0.3</td>
      <td class="gt_row gt_right">-2.2</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">6</td>
      <td class="gt_row gt_left">NO</td>
      <td class="gt_row gt_left">D. Brees</td>
      <td class="gt_row gt_right">80.1</td>
      <td class="gt_row gt_right">36</td>
      <td class="gt_row gt_right">2.9</td>
      <td class="gt_row gt_right">-0.4</td>
      <td class="gt_row gt_right">-0.7</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">7</td>
      <td class="gt_row gt_left">ARI</td>
      <td class="gt_row gt_left">K. Murray</td>
      <td class="gt_row gt_right">80.0</td>
      <td class="gt_row gt_right">56</td>
      <td class="gt_row gt_right">3.7</td>
      <td class="gt_row gt_right">5.7</td>
      <td class="gt_row gt_right">-0.6</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">8</td>
      <td class="gt_row gt_left">TEN</td>
      <td class="gt_row gt_left">R. Tannehill</td>
      <td class="gt_row gt_right">78.5</td>
      <td class="gt_row gt_right">51</td>
      <td class="gt_row gt_right">8.4</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">-0.1</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">9</td>
      <td class="gt_row gt_left">CAR</td>
      <td class="gt_row gt_left">T. Bridgewater</td>
      <td class="gt_row gt_right">78.5</td>
      <td class="gt_row gt_right">41</td>
      <td class="gt_row gt_right">5.2</td>
      <td class="gt_row gt_right">0.8</td>
      <td class="gt_row gt_right">-0.5</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">10</td>
      <td class="gt_row gt_left">LV</td>
      <td class="gt_row gt_left">D. Carr</td>
      <td class="gt_row gt_right">74.2</td>
      <td class="gt_row gt_right">32</td>
      <td class="gt_row gt_right">3.7</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">0.0</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
</section>
<section id="week-3" class="panel-name panel">
<h2 class="panel-name">2020 Week 3</h2>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
qbr_table(2020, 3)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vuuolifwkz .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 600px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vuuolifwkz .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vuuolifwkz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vuuolifwkz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vuuolifwkz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vuuolifwkz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vuuolifwkz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vuuolifwkz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vuuolifwkz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vuuolifwkz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vuuolifwkz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vuuolifwkz .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#vuuolifwkz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vuuolifwkz .gt_from_md > :first-child {
  margin-top: 0;
}

#vuuolifwkz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vuuolifwkz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vuuolifwkz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#vuuolifwkz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vuuolifwkz .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#vuuolifwkz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vuuolifwkz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vuuolifwkz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vuuolifwkz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vuuolifwkz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vuuolifwkz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#vuuolifwkz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vuuolifwkz .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#vuuolifwkz .gt_left {
  text-align: left;
}

#vuuolifwkz .gt_center {
  text-align: center;
}

#vuuolifwkz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vuuolifwkz .gt_font_normal {
  font-weight: normal;
}

#vuuolifwkz .gt_font_bold {
  font-weight: bold;
}

#vuuolifwkz .gt_font_italic {
  font-style: italic;
}

#vuuolifwkz .gt_super {
  font-size: 65%;
}

#vuuolifwkz .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="vuuolifwkz" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="8" class="gt_heading gt_title gt_font_normal" style>Top 10 QBs for week 3 of 2020</th>
    </tr>
    <tr>
      <th colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">rk</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">plays</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">pass</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">run</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">sack</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_left">MIA</td>
      <td class="gt_row gt_left">R. Fitzpatrick</td>
      <td class="gt_row gt_right">97.2</td>
      <td class="gt_row gt_right">31</td>
      <td class="gt_row gt_right">5.8</td>
      <td class="gt_row gt_right">2.1</td>
      <td class="gt_row gt_right">-0.1</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2</td>
      <td class="gt_row gt_left">IND</td>
      <td class="gt_row gt_left">P. Rivers</td>
      <td class="gt_row gt_right">91.1</td>
      <td class="gt_row gt_right">23</td>
      <td class="gt_row gt_right">5.6</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">0.0</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_left">NO</td>
      <td class="gt_row gt_left">D. Brees</td>
      <td class="gt_row gt_right">88.2</td>
      <td class="gt_row gt_right">40</td>
      <td class="gt_row gt_right">6.7</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">-0.9</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">4</td>
      <td class="gt_row gt_left">GB</td>
      <td class="gt_row gt_left">A. Rodgers</td>
      <td class="gt_row gt_right">87.5</td>
      <td class="gt_row gt_right">38</td>
      <td class="gt_row gt_right">5.3</td>
      <td class="gt_row gt_right">1.9</td>
      <td class="gt_row gt_right">-0.7</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_left">BUF</td>
      <td class="gt_row gt_left">J. Allen</td>
      <td class="gt_row gt_right">83.7</td>
      <td class="gt_row gt_right">44</td>
      <td class="gt_row gt_right">7.2</td>
      <td class="gt_row gt_right">0.5</td>
      <td class="gt_row gt_right">-2.3</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">6</td>
      <td class="gt_row gt_left">SEA</td>
      <td class="gt_row gt_left">R. Wilson</td>
      <td class="gt_row gt_right">83.5</td>
      <td class="gt_row gt_right">54</td>
      <td class="gt_row gt_right">10.2</td>
      <td class="gt_row gt_right">0.1</td>
      <td class="gt_row gt_right">-1.6</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">7</td>
      <td class="gt_row gt_left">LAR</td>
      <td class="gt_row gt_left">J. Goff</td>
      <td class="gt_row gt_right">80.2</td>
      <td class="gt_row gt_right">37</td>
      <td class="gt_row gt_right">3.4</td>
      <td class="gt_row gt_right">0.2</td>
      <td class="gt_row gt_right">-1.1</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">8</td>
      <td class="gt_row gt_left">SF</td>
      <td class="gt_row gt_left">N. Mullens</td>
      <td class="gt_row gt_right">79.9</td>
      <td class="gt_row gt_right">42</td>
      <td class="gt_row gt_right">5.4</td>
      <td class="gt_row gt_right">0.1</td>
      <td class="gt_row gt_right">-0.9</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">9</td>
      <td class="gt_row gt_left">HOU</td>
      <td class="gt_row gt_left">D. Watson</td>
      <td class="gt_row gt_right">79.1</td>
      <td class="gt_row gt_right">34</td>
      <td class="gt_row gt_right">2.9</td>
      <td class="gt_row gt_right">0.1</td>
      <td class="gt_row gt_right">-2.3</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">10</td>
      <td class="gt_row gt_left">CLE</td>
      <td class="gt_row gt_left">B. Mayfield</td>
      <td class="gt_row gt_right">73.9</td>
      <td class="gt_row gt_right">29</td>
      <td class="gt_row gt_right">3.6</td>
      <td class="gt_row gt_right">-0.3</td>
      <td class="gt_row gt_right">-1.0</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
</section>
<section id="code" class="panel-name panel">
<h2 class="panel-name">Code</h2>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
qbr_table &lt;- function(season_in, week_in){
  raw_df &lt;- get_nfl_qbr(season = season_in, week = week_in)
  
  raw_df %&gt;% 
    slice(1:10) %&gt;% 
    select(
      rk = rank, team, name = short_name, qbr = qbr_total, 
      plays = qb_plays, pass, run, sack
      ) %&gt;% 
    gt() %&gt;% 
    opt_all_caps() %&gt;% 
    tab_options(
      table.width = px(600),
      heading.title.font.weight = &quot;bold&quot;,
      heading.align = &quot;left&quot;
    ) %&gt;% 
    tab_header(
      title = glue::glue(&quot;Top 10 QBs for week {week_in} of {season_in}&quot;)
    )
}

qbr_table(2020, 1)</code></pre>
</div>
</section>
</div>
<p>Boom! Ready to share an update on the top 10 QBs by QBR for week 1, or week 2 or week 3, or week 16 from 2015, or ANY other week/season combo! Putting this all into a function lets us simply focus on which data to input and generate a nice table.</p>
<p>Note you could still do a lot to this table to get it publication ready or specific to your “brand”, which gets us into the next part - themes!</p>
<h2 id="gt-themes"><code>gt</code> Themes</h2>
<p>We’re going to explore 3 different formats for elegant tables with examples from ESPN, ProFootball Focus, and FiveThirtyEight. Of the three, I personally think that FiveThirtyEight has some of the best minimalist tables on the web right now, but for the sake of different tastes we’ll go through each!</p>
<p>Before diving <em>right</em> into the themes - I’d first like to show a quick example of a theme and walk through the code. Hopefully this gives you enough to make your own themes down the line!</p>
<p>You can think of <code>gt</code> themes in a similar fashion to <code>ggplot2</code> themes. Just as <code>theme_bw()</code> just changes the appearance (eg theme) of the plot, a custom-defined <code>gt</code> theme will affect the overall appearance of a <code>gt</code> table (although as a function you could make it do even more!).</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  ggplot(aes(x = disp, y = mpg)) +
  geom_point() +
  # Here is a built in theme for ggplot2
  theme_bw()</code></pre>
<p><img src="functions-and-themes-for-gt-tables_files/figure-html5/unnamed-chunk-5-1.png" width="624" /></p>
</div>
<h3 id="basic-theme">Basic Theme</h3>
<p>The core idea of a theme is that it’s a function that passes <code>data</code> and <code>...</code>, where the <code>data</code> is actually a <code>gt</code> object, and the <code>...</code> are a placeholder for user-defined expressions. The <code>...</code> can also be called “dot-dot-dot”, “the dots” or “ellipsis”, and you can read more about them in the <a href="https://tidyeval.tidyverse.org/multiple.html#the-...-argument">Tidy evaluation book</a>. A quick quote about them from that book chapter:</p>
<blockquote>
<p>The dot-dot-dot argument is one of the nicest aspects of the R language. A function that takes <code>...</code> accepts any number of arguments, named or unnamed.</p>
</blockquote>
<p>What this really means is that we are leaving any argument on the table for <code>tab_options()</code> which has the widest range of possible arguments in <code>gt</code> (&gt; 100 possible arguments). You can see all the possible options in the <a href="https://gt.rstudio.com/reference/tab_options.html"><code>gt</code> reference</a>.</p>
<p>Our basic example passes data as the first argument into <code>tab_options()</code> and leaves a <code>...</code> inside <code>tab_options()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
basic_theme &lt;- function(data, ...){
  data %&gt;% 
    tab_options(
      table.background.color = &quot;purple&quot;,
      ...
    )
}</code></pre>
</div>
<p>If we use this theme, it will just change the table background color.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  head() %&gt;% 
  gt() %&gt;% 
  basic_theme()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ssldywsloy .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: purple;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ssldywsloy .gt_heading {
  background-color: purple;
  text-align: center;
  border-bottom-color: purple;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ssldywsloy .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: purple;
  border-bottom-width: 0;
}

#ssldywsloy .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: purple;
  border-top-width: 0;
}

#ssldywsloy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ssldywsloy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ssldywsloy .gt_col_heading {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ssldywsloy .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ssldywsloy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ssldywsloy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ssldywsloy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ssldywsloy .gt_group_heading {
  padding: 8px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ssldywsloy .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ssldywsloy .gt_from_md > :first-child {
  margin-top: 0;
}

#ssldywsloy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ssldywsloy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ssldywsloy .gt_stub {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ssldywsloy .gt_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ssldywsloy .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ssldywsloy .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ssldywsloy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ssldywsloy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ssldywsloy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ssldywsloy .gt_footnotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ssldywsloy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ssldywsloy .gt_sourcenotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ssldywsloy .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ssldywsloy .gt_left {
  text-align: left;
}

#ssldywsloy .gt_center {
  text-align: center;
}

#ssldywsloy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ssldywsloy .gt_font_normal {
  font-weight: normal;
}

#ssldywsloy .gt_font_bold {
  font-weight: bold;
}

#ssldywsloy .gt_font_italic {
  font-style: italic;
}

#ssldywsloy .gt_super {
  font-size: 65%;
}

#ssldywsloy .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ssldywsloy" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.875</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.4</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">258</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.08</td>
      <td class="gt_row gt_right">3.215</td>
      <td class="gt_row gt_right">19.44</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.7</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">360</td>
      <td class="gt_row gt_right">175</td>
      <td class="gt_row gt_right">3.15</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.1</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">225</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">2.76</td>
      <td class="gt_row gt_right">3.460</td>
      <td class="gt_row gt_right">20.22</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>However, since we left the <code>...</code> inside our theme, we can pass additional arguments into the <code>basic_theme()</code>. Let’s change the column label background to red.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  head() %&gt;% 
  gt() %&gt;% 
  basic_theme(
    column_labels.background.color = &quot;red&quot;
  )</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cpvvlpzprj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: purple;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cpvvlpzprj .gt_heading {
  background-color: purple;
  text-align: center;
  border-bottom-color: purple;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cpvvlpzprj .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: purple;
  border-bottom-width: 0;
}

#cpvvlpzprj .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: purple;
  border-top-width: 0;
}

#cpvvlpzprj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cpvvlpzprj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cpvvlpzprj .gt_col_heading {
  color: #FFFFFF;
  background-color: red;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cpvvlpzprj .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: red;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cpvvlpzprj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cpvvlpzprj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cpvvlpzprj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cpvvlpzprj .gt_group_heading {
  padding: 8px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cpvvlpzprj .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cpvvlpzprj .gt_from_md > :first-child {
  margin-top: 0;
}

#cpvvlpzprj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cpvvlpzprj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cpvvlpzprj .gt_stub {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#cpvvlpzprj .gt_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cpvvlpzprj .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#cpvvlpzprj .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cpvvlpzprj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cpvvlpzprj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cpvvlpzprj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cpvvlpzprj .gt_footnotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cpvvlpzprj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#cpvvlpzprj .gt_sourcenotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cpvvlpzprj .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#cpvvlpzprj .gt_left {
  text-align: left;
}

#cpvvlpzprj .gt_center {
  text-align: center;
}

#cpvvlpzprj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cpvvlpzprj .gt_font_normal {
  font-weight: normal;
}

#cpvvlpzprj .gt_font_bold {
  font-weight: bold;
}

#cpvvlpzprj .gt_font_italic {
  font-style: italic;
}

#cpvvlpzprj .gt_super {
  font-size: 65%;
}

#cpvvlpzprj .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="cpvvlpzprj" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.875</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.4</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">258</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.08</td>
      <td class="gt_row gt_right">3.215</td>
      <td class="gt_row gt_right">19.44</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.7</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">360</td>
      <td class="gt_row gt_right">175</td>
      <td class="gt_row gt_right">3.15</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.1</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">225</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">2.76</td>
      <td class="gt_row gt_right">3.460</td>
      <td class="gt_row gt_right">20.22</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>As a final note, you can keep piping the results into further <code>gt</code> arguments!</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  head() %&gt;% 
  gt() %&gt;% 
  basic_theme(
    column_labels.background.color = &quot;red&quot;,
    table.font.size = px(12),
    column_labels.font.size = px(20),
    row.striping.background_color = &quot;#9678b6&quot;,
    heading.align = &quot;left&quot;,
    heading.title.font.size = px(30)
  ) %&gt;% 
  opt_row_striping() %&gt;% 
  tab_header(title = &quot;Important table with theme&quot;)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cahydzerds .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: purple;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cahydzerds .gt_heading {
  background-color: purple;
  text-align: left;
  border-bottom-color: purple;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cahydzerds .gt_title {
  color: #FFFFFF;
  font-size: 30px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: purple;
  border-bottom-width: 0;
}

#cahydzerds .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: purple;
  border-top-width: 0;
}

#cahydzerds .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cahydzerds .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cahydzerds .gt_col_heading {
  color: #FFFFFF;
  background-color: red;
  font-size: 20px;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cahydzerds .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: red;
  font-size: 20px;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cahydzerds .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cahydzerds .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cahydzerds .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cahydzerds .gt_group_heading {
  padding: 8px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cahydzerds .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cahydzerds .gt_from_md > :first-child {
  margin-top: 0;
}

#cahydzerds .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cahydzerds .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cahydzerds .gt_stub {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#cahydzerds .gt_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cahydzerds .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#cahydzerds .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cahydzerds .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cahydzerds .gt_striped {
  background-color: #9678b6;
}

#cahydzerds .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cahydzerds .gt_footnotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cahydzerds .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#cahydzerds .gt_sourcenotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cahydzerds .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#cahydzerds .gt_left {
  text-align: left;
}

#cahydzerds .gt_center {
  text-align: center;
}

#cahydzerds .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cahydzerds .gt_font_normal {
  font-weight: normal;
}

#cahydzerds .gt_font_bold {
  font-weight: bold;
}

#cahydzerds .gt_font_italic {
  font-style: italic;
}

#cahydzerds .gt_super {
  font-size: 65%;
}

#cahydzerds .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="cahydzerds" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="11" class="gt_heading gt_title gt_font_normal" style>Important table with theme</th>
    </tr>
    <tr>
      <th colspan="11" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right gt_striped">21.0</td>
      <td class="gt_row gt_right gt_striped">6</td>
      <td class="gt_row gt_right gt_striped">160</td>
      <td class="gt_row gt_right gt_striped">110</td>
      <td class="gt_row gt_right gt_striped">3.90</td>
      <td class="gt_row gt_right gt_striped">2.875</td>
      <td class="gt_row gt_right gt_striped">17.02</td>
      <td class="gt_row gt_right gt_striped">0</td>
      <td class="gt_row gt_right gt_striped">1</td>
      <td class="gt_row gt_right gt_striped">4</td>
      <td class="gt_row gt_right gt_striped">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right gt_striped">21.4</td>
      <td class="gt_row gt_right gt_striped">6</td>
      <td class="gt_row gt_right gt_striped">258</td>
      <td class="gt_row gt_right gt_striped">110</td>
      <td class="gt_row gt_right gt_striped">3.08</td>
      <td class="gt_row gt_right gt_striped">3.215</td>
      <td class="gt_row gt_right gt_striped">19.44</td>
      <td class="gt_row gt_right gt_striped">1</td>
      <td class="gt_row gt_right gt_striped">0</td>
      <td class="gt_row gt_right gt_striped">3</td>
      <td class="gt_row gt_right gt_striped">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.7</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">360</td>
      <td class="gt_row gt_right">175</td>
      <td class="gt_row gt_right">3.15</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right gt_striped">18.1</td>
      <td class="gt_row gt_right gt_striped">6</td>
      <td class="gt_row gt_right gt_striped">225</td>
      <td class="gt_row gt_right gt_striped">105</td>
      <td class="gt_row gt_right gt_striped">2.76</td>
      <td class="gt_row gt_right gt_striped">3.460</td>
      <td class="gt_row gt_right gt_striped">20.22</td>
      <td class="gt_row gt_right gt_striped">1</td>
      <td class="gt_row gt_right gt_striped">0</td>
      <td class="gt_row gt_right gt_striped">3</td>
      <td class="gt_row gt_right gt_striped">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>NOTE: While I’ve passed multiple arguments to our theme function as a show of possibility, the goal here is to push as much as the default theme elements you want to change into our theme function ahead of time to save repetitive typing!</p>
<p>Enough of fun but toy examples - let’s dive into the <em>real</em> themes!</p>
<hr />
<h3 id="espn">ESPN</h3>
<p>Our ESPN table is again using the original <a href="https://www.espn.com/nfl/qbr">QBR data</a>, and they are clean and simple. All caps on the column labels, row striping, but also add the player’s team as smaller gray text after the player’s name. Note that they also use hyperlinks to the player page (I’ll just focus on showing an example of blue text). Lastly, ESPN also uses interactive tables so there is a highlighted column for sorting. I’ll cover <code>reactable</code> themes on a later date so for now we’ll focus on static HTML with <code>gt</code>.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="panelset">
<div class="panel">
<p><span class="panel-name">ESPN Table</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="espn-themed-gt.png" width="930" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Original</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="espn-tab.png" width="100%" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Table Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
espn_qbr &lt;- espnscrapeR::get_nfl_qbr(2020) %&gt;% 
  select(
    rk = rank, team, name, qbr = qbr_total, paa = points_added, plays = qb_plays,
    epa = total_epa, pass, run, sack, pen = penalty, raw = raw_qbr
    )

espn_qbr %&gt;% 
  mutate(name = paste0(
    &quot;&lt;span style=&#39;font-size:16px; color:royalblue;&#39;&gt;&quot;,
    name,
    &quot;&lt;/span&gt;&quot;,
    &quot; &lt;span style=&#39;font-size:12px; color:grey;&#39;&gt;&quot;,
    word(team, start = -1), &quot;&lt;/span&gt;&quot;),
    name = map(name, ~gt::html(as.character(.x)))
  ) %&gt;%
  select(-team) %&gt;% 
  slice(1:15) %&gt;% 
  gt() %&gt;% 
  tab_header(title = md(&quot;**NFL Total QBR - 2020 Season Leaders**&quot;)) %&gt;% 
  gt_theme_espn() %&gt;% 
  cols_align(&quot;left&quot;, columns = vars(name)) %&gt;% 
  tab_source_note(md(&quot;**Data:** ESPN&lt;br&gt;**Table:** @thomas_mock&quot;))</code></pre>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Theme Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
gt_theme_espn &lt;- function(data, ...){
  data %&gt;% 
    opt_all_caps()  %&gt;%
    opt_table_font(
      font = list(
        google_font(&quot;Lato&quot;),
        default_fonts()
      )
    )  %&gt;% 
    opt_row_striping() %&gt;% 
    tab_options(
      row.striping.background_color = &quot;#fafafa&quot;,
      table_body.hlines.color = &quot;#f6f7f7&quot;,
      source_notes.font.size = 12,
      table.font.size = 16,
      table.width = px(700),
      heading.align = &quot;left&quot;,
      heading.title.font.size = 24,
      table.border.top.color = &quot;transparent&quot;,
      table.border.top.width = px(3),
      data_row.padding = px(7),
      ...
    ) 
}</code></pre>
</div>
</div>
</div>
<hr />
<h3 id="pff">PFF</h3>
<p>The data for this example is <strong>FAKE</strong> example data for some edge defenders. Quick example <code>gt</code> of this data below.</p>
<div class="panelset">
<section id="table-1" class="panel-name panel">
<h2 class="panel-name">Table</h2>
<div class="layout-chunk" data-layout="l-body">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#gnqwudxpiv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gnqwudxpiv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gnqwudxpiv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gnqwudxpiv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gnqwudxpiv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gnqwudxpiv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gnqwudxpiv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gnqwudxpiv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gnqwudxpiv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gnqwudxpiv .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#gnqwudxpiv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gnqwudxpiv .gt_from_md > :first-child {
  margin-top: 0;
}

#gnqwudxpiv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gnqwudxpiv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gnqwudxpiv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#gnqwudxpiv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gnqwudxpiv .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#gnqwudxpiv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gnqwudxpiv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gnqwudxpiv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gnqwudxpiv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gnqwudxpiv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#gnqwudxpiv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#gnqwudxpiv .gt_left {
  text-align: left;
}

#gnqwudxpiv .gt_center {
  text-align: center;
}

#gnqwudxpiv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gnqwudxpiv .gt_font_normal {
  font-weight: normal;
}

#gnqwudxpiv .gt_font_bold {
  font-weight: bold;
}

#gnqwudxpiv .gt_font_italic {
  font-style: italic;
}

#gnqwudxpiv .gt_super {
  font-size: 65%;
}

#gnqwudxpiv .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="gnqwudxpiv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">rank</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">number</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">def</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">rdef</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">prush</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_left">F.Name 8</td>
      <td class="gt_row gt_left">NO</td>
      <td class="gt_row gt_center">85</td>
      <td class="gt_row gt_right">92.4</td>
      <td class="gt_row gt_right">75.1</td>
      <td class="gt_row gt_right">59.2</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2</td>
      <td class="gt_row gt_left">F.Name 10</td>
      <td class="gt_row gt_left">DET</td>
      <td class="gt_row gt_center">55</td>
      <td class="gt_row gt_right">92.1</td>
      <td class="gt_row gt_right">80.8</td>
      <td class="gt_row gt_right">60.1</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_left">F.Name 11</td>
      <td class="gt_row gt_left">MIN</td>
      <td class="gt_row gt_center">57</td>
      <td class="gt_row gt_right">91.7</td>
      <td class="gt_row gt_right">85.1</td>
      <td class="gt_row gt_right">68.7</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">4</td>
      <td class="gt_row gt_left">F.Name 1</td>
      <td class="gt_row gt_left">PIT</td>
      <td class="gt_row gt_center">77</td>
      <td class="gt_row gt_right">91.5</td>
      <td class="gt_row gt_right">73.0</td>
      <td class="gt_row gt_right">72.9</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_left">F.Name 15</td>
      <td class="gt_row gt_left">DEN</td>
      <td class="gt_row gt_center">52</td>
      <td class="gt_row gt_right">91.1</td>
      <td class="gt_row gt_right">89.7</td>
      <td class="gt_row gt_right">75.4</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">6</td>
      <td class="gt_row gt_left">F.Name 2</td>
      <td class="gt_row gt_left">KC</td>
      <td class="gt_row gt_center">93</td>
      <td class="gt_row gt_right">88.9</td>
      <td class="gt_row gt_right">59.8</td>
      <td class="gt_row gt_right">86.3</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
</section>
<section id="code-1" class="panel-name panel">
<h2 class="panel-name">Code</h2>
<div class="layout-chunk" data-layout="l-page">
<pre class="r"><code>
# Get the team logos
team_df &lt;- espnscrapeR::get_nfl_teams() %&gt;% 
  select(team = team_short_name, logo)

n_play &lt;- 15

# set seed for reproducibility
set.seed(2020)

# generate fake data
fake_df &lt;- tibble(
  rank = c(1:n_play),
  name = paste0(&quot;F.Name &quot;, 1:n_play),
  team = c(
    &quot;PIT&quot;, &quot;KC&quot;, &quot;CLE&quot;, &quot;HOU&quot;, &quot;BAL&quot;, &quot;JAX&quot;, &quot;LV&quot;, &quot;NO&quot;, 
    &quot;LAR&quot;, &quot;DET&quot;, &quot;MIN&quot;, &quot;NYJ&quot;, &quot;DAL&quot;, &quot;CAR&quot;, &quot;DEN&quot;),
  number = sample(50:99, size = n_play),
  def = runif(n_play, min = 50.0, 94.0),
  rdef = runif(n_play, min = 50.0, 94.0),
  prush = runif(n_play, min = 50.0, 94.0),
  cov = runif(n_play, min = 50.0, 94.0),
  def_snaps = sample(85:130, size = n_play),
  rdef_snaps = sample(12:40, size = n_play),
  prush_snaps = NA,
  cov_snaps = sample(0:10, size = n_play, replace = TRUE)
  ) %&gt;% 
  mutate(
    prush_snaps = def_snaps - rdef_snaps - cov_snaps
  ) %&gt;%
  left_join(team_df) %&gt;%
  select(rank:name, logo, everything()) %&gt;% 
  arrange(desc(def)) %&gt;% 
  mutate(rank = row_number())

fake_df %&gt;% 
  select(1:8, -logo) %&gt;% 
  head() %&gt;% 
  gt() %&gt;%
  fmt_number(
    columns = 5:7,
    decimals = 1
  )</code></pre>
</div>
</section>
</div>
<p>Now, that’s an ok table, but we can do a lot better with a theme, especially one to relatively match the theme PFF uses! Example from their <a href="https://www.pff.com/nfl/grades/position/ed">Position Grade data</a>.</p>
<p>There’s a few things of interest we want to do to:<br />
- Row striping without horizontal lines<br />
- Dark gray column labels background (but light gray for spanners) and all caps labels<br />
- Team logos<br />
- Bold text for PFF grade, but normal weights for snap counts</p>
<div class="panelset">
<div class="panel">
<p><span class="panel-name">PFF-themed Table</span></p>
<div class="layout-chunk" data-layout="l-page">
<p><img src="pff-themed-gt.png" width="1045" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">PFF Example</span></p>
<div class="layout-chunk" data-layout="l-page">
<p><img src="pff-example.png" width="463" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Table Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
fake_df %&gt;% 
  gt() %&gt;% 
  fmt_number(
    columns = 6:9,
    decimals = 1
    ) %&gt;% 
  gt_theme_pff()</code></pre>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Theme Code</span></p>
<div class="layout-chunk" data-layout="l-page">
<pre class="r"><code>
gt_theme_pff &lt;- function(data, ...) {
  data %&gt;%
    # Add team logos w/ web_image
    text_transform(
      locations = cells_body(
        vars(logo)
      ),
      fn = function(x) {
        web_image(
          url = x,
          height = 25
        )
      }
    ) %&gt;%
    # add spanner for PFF Grade
    tab_spanner(
      label = &quot;PFF GRADE&quot;,
      columns = vars(def, rdef, prush, cov)
    ) %&gt;%
    # add spanner for SNAPS
    tab_spanner(
      label = &quot;SNAPS&quot;,
      columns = contains(&quot;snaps&quot;)
    ) %&gt;%
    # Add a &quot;blank&quot; spanner to add white space
    tab_spanner(
      label = &quot;BLANK&quot;,
      columns = 1:5
    ) %&gt;%
    # Relabel columns
    cols_label(
      def_snaps = &quot;DEF&quot;,
      rdef_snaps = &quot;RDEF&quot;,
      prush_snaps = &quot;PRUSH&quot;,
      cov_snaps = &quot;COV&quot;,
      number = &quot;#&quot;,
      logo = &quot;&quot;
    ) %&gt;%
    # if missing, replace NA w/ ---
    fmt_missing(
      columns = everything(),
      missing_text = &quot;---&quot;
    ) %&gt;%
    # add exact color from PFF table to spanners
    tab_style(
      style = list(
        cell_fill(color = &quot;#e4e8ed&quot;),
        cell_text(color = &quot;#878e94&quot;),
        cell_borders(sides = &quot;left&quot;, color = &quot;white&quot;, weight = px(3))
      ),
      locations = list(
        cells_column_spanners(
          spanners = c(&quot;PFF GRADE&quot;, &quot;SNAPS&quot;)
        )
      )
    ) %&gt;%
    # hide spanner with transparent color
    tab_style(
      style = list(
        cell_fill(color = &quot;transparent&quot;),
        cell_text(color = &quot;transparent&quot;)
      ),
      locations = list(
        cells_column_spanners(
          spanners = c(&quot;BLANK&quot;)
        )
      )
    ) %&gt;%
    # Change font color and weight for numeric col
    tab_style(
      style = list(
        cell_text(color = &quot;#3a3d42&quot;, weight = &quot;bold&quot;)
      ),
      locations = cells_body(
        columns = 5:9
      )
    ) %&gt;%
    # Add pound sign in front of numbers
    text_transform(
      locations = cells_body(
        columns = vars(number)
      ),
      fn = function(x) {
        paste0(&quot;#&quot;, x)
      }
    ) %&gt;%
    # Make column labels and spanners all caps
    opt_all_caps() %&gt;%
    # add row striping
    opt_row_striping() %&gt;%
    # change overall table styling for borders and striping
    tab_options(
      column_labels.background.color = &quot;#585d63&quot;,
      table_body.hlines.color = &quot;transparent&quot;,
      table.border.top.width = px(3),
      table.border.top.color = &quot;transparent&quot;,
      table.border.bottom.color = &quot;transparent&quot;,
      table.border.bottom.width = px(3),
      column_labels.border.top.width = px(3),
      column_labels.border.top.color = &quot;transparent&quot;,
      column_labels.border.bottom.width = px(3),
      column_labels.border.bottom.color = &quot;transparent&quot;,
      row.striping.background_color = &quot;#f9f9fb&quot;,
      data_row.padding = px(3),
      ...
    ) %&gt;%
    cols_width(
      1 ~ px(75),
      2 ~ px(125),
      3 ~ px(30),
      4 ~ px(40),
      everything() ~ px(60)
    ) %&gt;% 
    # change color of border separating the text from the sourcenote
    tab_style(
      style = cell_borders(
        sides = &quot;bottom&quot;, color = &quot;#585d63&quot;, weight = px(2)
      ),
      locations = cells_body(
        columns = TRUE,
        rows = nrow(data$`_data`)
      )
    ) %&gt;%
    # change font to Lato throughout (note no need to have Lato locally!)
    opt_table_font(
      font = c(
        google_font(name = &quot;Lato&quot;),
        default_fonts()
      )
    ) %&gt;%
    # add source note
    tab_source_note(
      source_note = md(&quot;**Data:** _FAKE DATA_ Pro Football Focus&lt;br&gt;**Table:** @thomas_mock&quot;)
    )
}</code></pre>
</div>
</div>
</div>
<p>While this theme is great, it’s very tailored to this specific data, so it’s closer to a function to generate PFF defensive grade tables. This is fine, as it would greatly speed up the ability to generate these for sharing somewhere, but it’s not a very <code>generic</code> function that could be used for novel data structures. This is mainly as we are doing some sneaky things to get the grey boxes around <code>PFF GRADE</code> and <code>SNAPS</code> that involve transparent backgrounds at specific locations. You could adapt big chunks of this code to use elsewhere though, and note that it would still work for CBs, LBs, Edge, DL, and Safeties. That’s pretty useful!</p>
<hr />
<h3 id="fivethirtyeight">FiveThirtyEight</h3>
<p>Now, since FiveThirtyEight tables are more minimal, the theme we’ll use for those tables can be essentially be extended to almost any table! The original data and table come from a <a href="https://fivethirtyeight.com/features/sorry-running-backs-even-your-receiving-value-can-be-easily-replaced/">FiveThirtyEight article</a> from 2018.</p>
<div class="panelset">
<section id="fivethirtyeight-table" class="panel-name panel">
<h2 class="panel-name">FiveThirtyEight Table</h2>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="538-themed-gt.png" width="534" /></p>
</div>
</section>
<section id="original" class="panel-name panel">
<h2 class="panel-name">Original</h2>
<div class="layout-chunk" data-layout="l-body">
<p><img src="538-table.png" width="75%" /></p>
</div>
</section>
<section id="table-code" class="panel-name panel">
<h2 class="panel-name">Table Code</h2>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
library(rvest)

url &lt;- &quot;https://fivethirtyeight.com/features/sorry-running-backs-even-your-receiving-value-can-be-easily-replaced/&quot;

rb_receiving &lt;- url %&gt;% 
  xml2::read_html() %&gt;% 
  rvest::html_table() %&gt;% 
  purrr::chuck(1) %&gt;% 
  purrr::set_names(nm = c(&quot;team&quot;, &quot;attempts&quot;, &quot;successful&quot;, &quot;success_rate&quot;)) %&gt;% 
  dplyr::as_tibble() %&gt;% 
  filter(team != &quot;team&quot;) %&gt;% 
  mutate(success_rate = stringr::str_remove(success_rate, &quot;%&quot;)) %&gt;% 
  mutate(across(c(attempts:success_rate), as.double))</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
tab_538 &lt;- rb_receiving %&gt;%
  gt() %&gt;%
  tab_spanner(
    label = &quot;PASSES TO RBS&quot;,
    columns = vars(attempts, successful)
  ) %&gt;% 
  data_color(
    columns = vars(success_rate),
    colors = scales::col_numeric(
      palette = c(&quot;white&quot;, &quot;#3fc1c9&quot;),
      domain = NULL
    )
  ) %&gt;% 
  cols_label(
    success_rate = &quot;SUCCESS RATE (%)&quot;
  ) %&gt;% 
  tab_source_note(
    source_note = md(&quot;SOURCE: ESPN STATS &amp; INFORMATION GROUP&lt;br&gt;TABLE: @THOMAS_MOCK&quot;)
  ) %&gt;% 
  gt_theme_538(table.width = px(550))</code></pre>
</div>
</section>
<section id="theme-code" class="panel-name panel">
<h2 class="panel-name">Theme Code</h2>
<p>Here’s the theme code for the FiveThirtyEight theme.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
gt_theme_538 &lt;- function(data,...) {
  data %&gt;%
  opt_all_caps()  %&gt;%
  opt_table_font(
    font = list(
      google_font(&quot;Chivo&quot;),
      default_fonts()
    )
  ) %&gt;%
    tab_style(
      style = cell_borders(
        sides = &quot;bottom&quot;, color = &quot;transparent&quot;, weight = px(2)
      ),
      locations = cells_body(
        columns = TRUE,
        # This is a relatively sneaky way of changing the bottom border
        # Regardless of data size
        rows = nrow(data$`_data`)
      )
    )  %&gt;% 
  tab_options(
    column_labels.background.color = &quot;white&quot;,
    table.border.top.width = px(3),
    table.border.top.color = &quot;transparent&quot;,
    table.border.bottom.color = &quot;transparent&quot;,
    table.border.bottom.width = px(3),
    column_labels.border.top.width = px(3),
    column_labels.border.top.color = &quot;transparent&quot;,
    column_labels.border.bottom.width = px(3),
    column_labels.border.bottom.color = &quot;black&quot;,
    data_row.padding = px(3),
    source_notes.font.size = 12,
    table.font.size = 16,
    heading.align = &quot;left&quot;,
    ...
  ) 
}</code></pre>
</div>
</section>
</div>
<p>Now, since that data is public via <code>nflfastR</code>, we could try and recreate that table for 2018 or 2019 (or really any year between 1999 and 2020). There’s a small amount of difference between what FiveThirtyEight reported and what we calculated with <code>nflfastR</code> data, but perhaps they excluded some other plays (or excluded FBs). Feel free to dive in a bit deeper if you’re interested in recreating (all the code is included below).</p>
<div class="panelset">
<div class="panel">
<p><span class="panel-name">2018 Table</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="rb-pass-2018.png" width="500px" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">2019 Table</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="rb-pass-2019.png" width="500px" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Table Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
# 2018 recreation
season_stats %&gt;% 
  filter(season == 2018) %&gt;% 
  select(-season) %&gt;% 
  gt() %&gt;%
  tab_spanner(
    label = &quot;PASSES TO RBS&quot;,
    columns = vars(Attempts, Successful)
  ) %&gt;% 
  tab_header(
    title = md(&quot;**The Chiefs got the most out of the running back pass**&quot;),
    subtitle = md(&quot;NFL teams by success rate of passes to running backs, as measured by positive&lt;br&gt;expected points added, for the 2018 regular season&quot;)
    ) %&gt;% 
  data_color(
    columns = vars(success_rate),
    colors = scales::col_numeric(
      palette = c(&quot;white&quot;, &quot;#3fc1c9&quot;),
      domain = NULL
    )
  ) %&gt;% 
  cols_label(
    success_rate = &quot;SUCCESS RATE (%)&quot;
  ) %&gt;% 
  tab_source_note(
    source_note = md(&quot;SOURCE: NFLFASTR&lt;br&gt;TABLE: @THOMAS_MOCK&quot;)
  ) %&gt;% 
  gt_theme_538(table.width = px(550))

# 2019 table
season_stats %&gt;% 
  filter(season == 2019) %&gt;% 
  select(-season) %&gt;% 
  gt() %&gt;%
  tab_header(
    title = md(&quot;**The Panthers got the most out of the running back pass**&quot;),
    subtitle = md(&quot;NFL teams by success rate of passes to running backs, as measured by positive&lt;br&gt;expected points added, for the 2019 regular season&quot;)
    ) %&gt;% 
  tab_spanner(
    label = &quot;PASSES TO RBS&quot;,
    columns = vars(Attempts, Successful)
  ) %&gt;% 
  data_color(
    columns = vars(success_rate),
    colors = scales::col_numeric(
      palette = c(&quot;white&quot;, &quot;#3fc1c9&quot;),
      domain = NULL
    )
  ) %&gt;% 
  cols_label(
    success_rate = &quot;SUCCESS RATE (%)&quot;
  ) %&gt;% 
  tab_source_note(
    source_note = md(&quot;SOURCE: NFLFASTR&lt;br&gt;TABLE: @THOMAS_MOCK&quot;)
  ) %&gt;% 
  gt_theme_538(table.width = px(550))</code></pre>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Data Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
rosters &lt;- read_csv(&quot;https://raw.githubusercontent.com/guga31bb/nflfastR-data/master/roster-data/roster.csv&quot;) %&gt;%
  filter(teamPlayers.position %in% c(&quot;QB&quot;, &quot;WR&quot;, &quot;RB&quot;, &quot;FB&quot;, &quot;TE&quot;), team.season %in% c(2018, 2019)) %&gt;% 
  select(
    position = teamPlayers.position, receiver_jersey_number = teamPlayers.jerseyNumber, 
    posteam = team.abbr, season = team.season
    )

seasons &lt;- 2018:2019

pbp &lt;- purrr::map_df(seasons, function(x) {
  readr::read_csv(
    glue::glue(&quot;https://raw.githubusercontent.com/guga31bb/nflfastR-data/master/data/play_by_play_{x}.csv.gz&quot;)
  )
})

data_clean &lt;- pbp %&gt;%
  filter(pass == 1 &amp; sack == 0 &amp; qb_scramble == 0, !is.na(receiver_jersey_number)) %&gt;%
  filter(week &lt;= 17) %&gt;% 
  select(
    season, name, pass, desc, posteam, epa, defteam, complete_pass, incomplete_pass,
    air_yards, receiver_player_name, receiver_jersey_number, down, success, complete_pass
  ) %&gt;%
  left_join(rosters, by = c(&quot;receiver_jersey_number&quot;, &quot;posteam&quot;, &quot;season&quot;)) %&gt;% 
  filter(!is.na(position)) %&gt;% 
  mutate(position = if_else(position == &quot;FB&quot;, &quot;RB&quot;, position))

pos &lt;- data_clean %&gt;%
  filter(position == &quot;RB&quot;)

season_stats &lt;- pos %&gt;% 
  filter(!is.na(success)) %&gt;% 
  select(posteam, success, season) %&gt;% 
  group_by(season) %&gt;% 
  add_count(posteam) %&gt;% 
  count(posteam, success) %&gt;% 
  mutate(success = if_else(success == 0, &quot;Attempts&quot;, &quot;Successful&quot;)) %&gt;% 
  pivot_wider(names_from = success, values_from = n) %&gt;% 
  mutate(
    Attempts = Successful + Attempts,
    success_rate = Successful/Attempts,
    success_rate = round(success_rate, digits = 3) * 100
    ) %&gt;% 
  arrange(desc(success_rate)) %&gt;% 
  ungroup()</code></pre>
</div>
</div>
</div>
<p>Last example - remember that our ESPN or FiveThirtyEight themes can be applied to novel data structures, while the PFF theme made additional changes for <code>gt</code> that were specific to at least the same columns we expect.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  slice(1:10) %&gt;% 
  gt() %&gt;% 
  gt_theme_538() %&gt;% 
  tab_header(title = md(&quot;**FiveThirtyEight Style**&quot;))</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="538-style.png" width="500px" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  slice(1:10) %&gt;% 
  gt() %&gt;% 
  gt_theme_espn() %&gt;% 
  tab_header(title = md(&quot;**ESPN Style**&quot;))</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="espn-style.png" width="700px" /></p>
</div>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Functions%20and%20Themes%20for%20gt%20tables&amp;url=https%3A%2F%2Fthemockup.blog%2Fposts%2F2020-09-26-functions-and-themes-for-gt-tables%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fthemockup.blog%2Fposts%2F2020-09-26-functions-and-themes-for-gt-tables%2F&amp;title=Functions%20and%20Themes%20for%20gt%20tables">
        <i class="fab fa-linkedin"></i>
      </a>
    </span>
  </p>
  <p>
    <div class="subscribe"><form method='post' action='https://blogtrottr.com'>
  <p>Enjoy this blog? Get notified of new posts via email:</p>
  <input type='text' name='btr_email' />
  <input type='hidden' name='btr_url'
         value='https://themockup.blog/index.xml'/>
  <input type='hidden' name='schedule_type' value='0' />
  <input type='submit' value='Subscribe' />
</form></div>
  </p>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Mock (2020, Sept. 28). The Mockup Blog: Functions and Themes for gt tables. Retrieved from https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{mock2020functions,
  author = {Mock, Thomas},
  title = {The Mockup Blog: Functions and Themes for gt tables},
  url = {https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/},
  year = {2020}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
