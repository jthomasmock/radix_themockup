<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

  <!--radix_placeholder_meta_tags-->
  <title>Functions and Themes for gt tables</title>

  <meta property="description" itemprop="description" content="Save time and effort in making beautiful tables"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2020-09-28"/>
  <meta property="article:created" itemprop="dateCreated" content="2020-09-28"/>
  <meta name="article:author" content="Thomas Mock"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Functions and Themes for gt tables"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Save time and effort in making beautiful tables"/>
  <meta property="og:image" content="https://themockup.blog/pff-themed-gt.png"/>
  <meta property="og:image:width" content="2090"/>
  <meta property="og:image:height" content="1554"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary_large_image"/>
  <meta property="twitter:title" content="Functions and Themes for gt tables"/>
  <meta property="twitter:description" content="Save time and effort in making beautiful tables"/>
  <meta property="twitter:image" content="https://themockup.blog/pff-themed-gt.png"/>
  <meta property="twitter:image:width" content="2090"/>
  <meta property="twitter:image:height" content="1554"/>
  <meta property="twitter:site" content="@thomas_mock"/>
  <meta property="twitter:creator" content="@thomas_mock"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","base_url","date","output","categories","preview","twitter"]}},"value":[{"type":"character","attributes":{},"value":["Functions and Themes for gt tables"]},{"type":"character","attributes":{},"value":["Save time and effort in making beautiful tables\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Thomas Mock"]},{"type":"character","attributes":{},"value":["https://twitter.com/thomas_mock"]}]}]},{"type":"character","attributes":{},"value":["https://themockup.blog"]},{"type":"character","attributes":{},"value":["09-28-2020"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["tables","tidyverse","gt","NFL"]},{"type":"character","attributes":{},"value":["pff-themed-gt.png"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["site","creator"]}},"value":[{"type":"character","attributes":{},"value":["@thomas_mock"]},{"type":"character","attributes":{},"value":["@thomas_mock"]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["538-style.png","538-table.png","538-themed-gt.png","espn-style.png","espn-tab.png","espn-themed-gt.png","functions-and-themes-for-gt-tables_files/bowser-1.9.3/bowser.min.js","functions-and-themes-for-gt-tables_files/distill-2.2.21/template.v2.js","functions-and-themes-for-gt-tables_files/figure-html5/unnamed-chunk-4-1.png","functions-and-themes-for-gt-tables_files/header-attrs-2.3/header-attrs.js","functions-and-themes-for-gt-tables_files/jquery-1.11.3/jquery.min.js","functions-and-themes-for-gt-tables_files/panelset-0.2.3.9000/panelset.css","functions-and-themes-for-gt-tables_files/panelset-0.2.3.9000/panelset.js","functions-and-themes-for-gt-tables_files/webcomponents-2.0.0/webcomponents.js","pff-example.png","pff-themed-gt.png","rb-pass-2018.png","rb-pass-2019.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.67);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.4);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
  }

  @media(max-width: 1000px) {
    .d-contents {
      grid-column: text;
      width: 100%;
      justify-self: start;
      align-self: start;
      padding-bottom: 0.5em;
      margin-bottom: 1em;
      padding-left: 0.25em;
    }
  }

  @media(min-width: 1180px) {
    .d-contents {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 0.7rem;
    font-weight: 400;
    color: rgba(0, 0, 0, 0.6);
    text-transform: uppercase;
    margin-top: 0;
    margin-bottom: 0.5em;
  }

  .d-contents nav a {
    color: rgba(0, 0, 0, 0.8);
    border-bottom: none;
    text-decoration: none
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-bottom: 0.15em;
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-contents nav>div {
    display: block;
    outline: none;
    margin-bottom: 0.5em
  }

  .d-contents nav>div>a {
    font-size: 13px;
    font-weight: 600
  }

  .d-contents nav>div>a {
    font-size: 13px;
    font-weight: 600
  }

  .d-contents nav>div>a:hover,
  .d-contents nav>ul>li>a:hover {
    text-decoration: none
  }

  .d-article-with-toc {
    border-top: none;
    padding-top: 0;
  }

  /* Tweak code blocks (note that this CSS is repeated above in an injection
     into the d-code shadow dom) */

  d-code {
    overflow-x: auto !important;
  }

  pre.d-code code.d-code {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  pre.text-output {

    font-size: 12px;
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  @media(min-width: 768px) {

  d-code {
    overflow-x: visible !important;
  }

  pre.d-code code.d-code  {
      padding-left: 18px;
      font-size: 14px;
  }
  pre.text-output {
    font-size: 14px;
  }
  }

  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }


  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // replace code blocks with d-code
    $('pre>code').each(function(i, val) {
      var code = $(this);
      var pre = code.parent();
      var clz = "";
      var language = pre.attr('class');
      if (language) {
        // map unknown languages to "clike" (without this they just dissapear)
        if ($.inArray(language, ["bash", "clike", "css", "go", "html",
                                 "javascript", "js", "julia", "lua", "markdown",
                                 "markup", "mathml", "python", "svg", "xml"]) == -1)
          language = "clike";
        language = ' language="' + language + '"';
        var dt_code = $('<d-code block' + language + clz + '></d-code>');
        dt_code.text(code.text());
        pre.replaceWith(dt_code);
      } else {
        code.addClass('text-output').unwrap().changeElementType('pre');
      }
    });

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('d-code, pre.text-output, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // table of contents
      if (have_authors) // adjust border if we are in authors
        $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // inject pre code styles (can't do this with a global stylesheet b/c a shadow root is used)
      $('d-code').each(function(i, val) {
        var style = document.createElement('style');
        style.innerHTML = 'pre code { padding-left: 10px; font-size: 12px; border-left: 2px solid rgba(0,0,0,0.1); } ' +
                          '@media(min-width: 768px) { pre code { padding-left: 18px; font-size: 14px; } }';
        if (this.shadowRoot)
          this.shadowRoot.appendChild(style);
      });

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="functions-and-themes-for-gt-tables_files/header-attrs-2.3/header-attrs.js"></script>
  <link href="functions-and-themes-for-gt-tables_files/panelset-0.2.3.9000/panelset.css" rel="stylesheet" />
  <script src="functions-and-themes-for-gt-tables_files/panelset-0.2.3.9000/panelset.js"></script>
  <script src="functions-and-themes-for-gt-tables_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="functions-and-themes-for-gt-tables_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="functions-and-themes-for-gt-tables_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="functions-and-themes-for-gt-tables_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Functions and Themes for gt tables","description":"Save time and effort in making beautiful tables","authors":[{"author":"Thomas Mock","authorURL":"https://twitter.com/thomas_mock","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2020-09-28T00:00:00.000-05:00","citationText":"Mock, 2020"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Functions and Themes for gt tables</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">tables</div>
<div class="dt=tag">tidyverse</div>
<div class="dt=tag">gt</div>
<div class="dt=tag">NFL</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Save time and effort in making beautiful tables</p></p>
</div>

<div class="d-byline">
  Thomas Mock <a href="https://twitter.com/thomas_mock" class="uri">https://twitter.com/thomas_mock</a> 
  
<br/>09-28-2020
</div>

<div class="d-article">
<div class="d-contents">
<nav class="toc" id="TOC">
<h3>Table of Contents</h3>
<ul>
<li><a href="#gt-tables"><code>gt</code> tables</a>
<ul>
<li><a href="#better-example">Better Example</a></li>
</ul></li>
<li><a href="#gt-themes"><code>gt</code> Themes</a>
<ul>
<li><a href="#basic-theme">Basic Theme</a></li>
<li><a href="#espn">ESPN</a></li>
<li><a href="#pff">PFF</a></li>
</ul></li>
<li><a href="#fivethirtyeight">FiveThirtyEight</a></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<h2 id="gt-tables"><code>gt</code> tables</h2>
<p>I’m continuing my series on <code>gt</code> tables with an exploration of <code>gt</code> functions and themes. Technically, they could be treated as the same thing but slightly different use cases.</p>
<p>For a function - I would think of the <code>gt</code> table as the final output, whereas a theme is applied to an existing <code>gt</code> table.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
library(tidyverse)
library(gt)
library(espnscrapeR)</code></pre>
</div>
<p>If you’ve never written a function, I’d recommend reading the <a href="https://r4ds.had.co.nz/functions.html">functions chapter</a> from the R4DS book.</p>
<p>For an example, here’s a quick function with <code>gt</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars_table &lt;- function(cyl_match = 6){
  mtcars %&gt;% 
    filter(cyl == cyl_match) %&gt;% 
    head() %&gt;% 
    gt() %&gt;% 
    tab_header(
      title = glue::glue(&quot;Table for cars with {cyl_match} cylinders&quot;)
    )
}

mtcars_table(4)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vkjtidqpih .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vkjtidqpih .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vkjtidqpih .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vkjtidqpih .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vkjtidqpih .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vkjtidqpih .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vkjtidqpih .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vkjtidqpih .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vkjtidqpih .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vkjtidqpih .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vkjtidqpih .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vkjtidqpih .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#vkjtidqpih .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vkjtidqpih .gt_from_md > :first-child {
  margin-top: 0;
}

#vkjtidqpih .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vkjtidqpih .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vkjtidqpih .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#vkjtidqpih .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vkjtidqpih .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#vkjtidqpih .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vkjtidqpih .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vkjtidqpih .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vkjtidqpih .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vkjtidqpih .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vkjtidqpih .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#vkjtidqpih .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vkjtidqpih .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#vkjtidqpih .gt_left {
  text-align: left;
}

#vkjtidqpih .gt_center {
  text-align: center;
}

#vkjtidqpih .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vkjtidqpih .gt_font_normal {
  font-weight: normal;
}

#vkjtidqpih .gt_font_bold {
  font-weight: bold;
}

#vkjtidqpih .gt_font_italic {
  font-style: italic;
}

#vkjtidqpih .gt_super {
  font-size: 65%;
}

#vkjtidqpih .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="vkjtidqpih" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="11" class="gt_heading gt_title gt_font_normal" style>Table for cars with 4 cylinders</th>
    </tr>
    <tr>
      <th colspan="11" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108.0</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">24.4</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">146.7</td>
      <td class="gt_row gt_right">62</td>
      <td class="gt_row gt_right">3.69</td>
      <td class="gt_row gt_right">3.190</td>
      <td class="gt_row gt_right">20.00</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">140.8</td>
      <td class="gt_row gt_right">95</td>
      <td class="gt_row gt_right">3.92</td>
      <td class="gt_row gt_right">3.150</td>
      <td class="gt_row gt_right">22.90</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">32.4</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">78.7</td>
      <td class="gt_row gt_right">66</td>
      <td class="gt_row gt_right">4.08</td>
      <td class="gt_row gt_right">2.200</td>
      <td class="gt_row gt_right">19.47</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30.4</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">75.7</td>
      <td class="gt_row gt_right">52</td>
      <td class="gt_row gt_right">4.93</td>
      <td class="gt_row gt_right">1.615</td>
      <td class="gt_row gt_right">18.52</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">33.9</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">71.1</td>
      <td class="gt_row gt_right">65</td>
      <td class="gt_row gt_right">4.22</td>
      <td class="gt_row gt_right">1.835</td>
      <td class="gt_row gt_right">19.90</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>In this case, we’re just using the table to generate our output of interest. Now something cool about <code>gt</code> since it’s pipe-oriented, is that you can continue working with the table. So let’s make some changes from our <code>gt</code> function.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars_table(6) %&gt;% 
  opt_all_caps() %&gt;% 
  opt_align_table_header(&quot;left&quot;)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#lmgbpxfbzt .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lmgbpxfbzt .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lmgbpxfbzt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lmgbpxfbzt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lmgbpxfbzt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lmgbpxfbzt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lmgbpxfbzt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lmgbpxfbzt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lmgbpxfbzt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lmgbpxfbzt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lmgbpxfbzt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lmgbpxfbzt .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#lmgbpxfbzt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lmgbpxfbzt .gt_from_md > :first-child {
  margin-top: 0;
}

#lmgbpxfbzt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lmgbpxfbzt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lmgbpxfbzt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#lmgbpxfbzt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lmgbpxfbzt .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#lmgbpxfbzt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lmgbpxfbzt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lmgbpxfbzt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lmgbpxfbzt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lmgbpxfbzt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lmgbpxfbzt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#lmgbpxfbzt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lmgbpxfbzt .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#lmgbpxfbzt .gt_left {
  text-align: left;
}

#lmgbpxfbzt .gt_center {
  text-align: center;
}

#lmgbpxfbzt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lmgbpxfbzt .gt_font_normal {
  font-weight: normal;
}

#lmgbpxfbzt .gt_font_bold {
  font-weight: bold;
}

#lmgbpxfbzt .gt_font_italic {
  font-style: italic;
}

#lmgbpxfbzt .gt_super {
  font-size: 65%;
}

#lmgbpxfbzt .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="lmgbpxfbzt" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="11" class="gt_heading gt_title gt_font_normal" style>Table for cars with 6 cylinders</th>
    </tr>
    <tr>
      <th colspan="11" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160.0</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160.0</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.875</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.4</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">258.0</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.08</td>
      <td class="gt_row gt_right">3.215</td>
      <td class="gt_row gt_right">19.44</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.1</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">225.0</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">2.76</td>
      <td class="gt_row gt_right">3.460</td>
      <td class="gt_row gt_right">20.22</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">19.2</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">167.6</td>
      <td class="gt_row gt_right">123</td>
      <td class="gt_row gt_right">3.92</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">18.30</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">17.8</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">167.6</td>
      <td class="gt_row gt_right">123</td>
      <td class="gt_row gt_right">3.92</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">18.90</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>So our function can generate a <code>gt</code> table, and we can then apply any other changes we need to the existing table.</p>
<p>Since this is a toy example, it’s not very exciting, so let’s continue on!</p>
<h3 id="better-example">Better Example</h3>
<p>Let’s grab a quick example from my <a href="https://jthomasmock.github.io/espnscrapeR/reference/get_nfl_qbr.html"><code>espnscrapeR</code> package</a>. Each week, QBs are given a QBR (Quarterback Rating) score from ESPN.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
library(espnscrapeR)

get_nfl_qbr(season = 2020, week = 1)</code></pre>
<pre><code>
# A tibble: 32 x 20
   season season_type game_week  rank team  first_name last_name name 
    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;
 1   2020 Regular     1             1 BAL   Lamar      Jackson   Lama…
 2   2020 Regular     1             2 GB    Aaron      Rodgers   Aaro…
 3   2020 Regular     1             3 KC    Patrick    Mahomes   Patr…
 4   2020 Regular     1             4 SEA   Russell    Wilson    Russ…
 5   2020 Regular     1             5 JAX   Gardner    Minshew … Gard…
 6   2020 Regular     1             6 NO    Drew       Brees     Drew…
 7   2020 Regular     1             7 ARI   Kyler      Murray    Kyle…
 8   2020 Regular     1             8 TEN   Ryan       Tannehill Ryan…
 9   2020 Regular     1             9 CAR   Teddy      Bridgewa… Tedd…
10   2020 Regular     1            10 LV    Derek      Carr      Dere…
# … with 22 more rows, and 12 more variables: short_name &lt;chr&gt;,
#   qbr_total &lt;dbl&gt;, points_added &lt;dbl&gt;, qb_plays &lt;dbl&gt;,
#   total_epa &lt;dbl&gt;, pass &lt;dbl&gt;, run &lt;dbl&gt;, exp_sack &lt;dbl&gt;,
#   penalty &lt;dbl&gt;, raw_qbr &lt;dbl&gt;, sack &lt;dbl&gt;, headshot_href &lt;chr&gt;</code></pre>
</div>
<p>Let’s use a function to generate a relatively clean table quickly. Our goal here is to take the process of collecting and cleaning data then generating a <code>gt</code> table into a simple function for the year + week of interest.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
qbr_table(2020, 1)</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="panelset">
<section id="table" class="panel-name panel">
<h2 class="panel-name">Table</h2>
<div class="layout-chunk" data-layout="l-body">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#nsuxcftkin .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 600px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nsuxcftkin .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nsuxcftkin .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nsuxcftkin .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nsuxcftkin .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nsuxcftkin .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nsuxcftkin .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nsuxcftkin .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nsuxcftkin .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nsuxcftkin .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nsuxcftkin .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nsuxcftkin .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#nsuxcftkin .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nsuxcftkin .gt_from_md > :first-child {
  margin-top: 0;
}

#nsuxcftkin .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nsuxcftkin .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nsuxcftkin .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#nsuxcftkin .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nsuxcftkin .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#nsuxcftkin .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nsuxcftkin .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nsuxcftkin .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nsuxcftkin .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nsuxcftkin .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nsuxcftkin .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#nsuxcftkin .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nsuxcftkin .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#nsuxcftkin .gt_left {
  text-align: left;
}

#nsuxcftkin .gt_center {
  text-align: center;
}

#nsuxcftkin .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nsuxcftkin .gt_font_normal {
  font-weight: normal;
}

#nsuxcftkin .gt_font_bold {
  font-weight: bold;
}

#nsuxcftkin .gt_font_italic {
  font-style: italic;
}

#nsuxcftkin .gt_super {
  font-size: 65%;
}

#nsuxcftkin .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="nsuxcftkin" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="8" class="gt_heading gt_title gt_font_normal" style>Top 10 QBs for week 1</th>
    </tr>
    <tr>
      <th colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">rk</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">plays</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">pass</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">run</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">sack</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_left">BAL</td>
      <td class="gt_row gt_left">L. Jackson</td>
      <td class="gt_row gt_right">95.1</td>
      <td class="gt_row gt_right">34</td>
      <td class="gt_row gt_right">7.5</td>
      <td class="gt_row gt_right">-0.6</td>
      <td class="gt_row gt_right">-0.4</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2</td>
      <td class="gt_row gt_left">GB</td>
      <td class="gt_row gt_left">A. Rodgers</td>
      <td class="gt_row gt_right">92.2</td>
      <td class="gt_row gt_right">48</td>
      <td class="gt_row gt_right">9.9</td>
      <td class="gt_row gt_right">0.7</td>
      <td class="gt_row gt_right">0.0</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_left">KC</td>
      <td class="gt_row gt_left">P. Mahomes</td>
      <td class="gt_row gt_right">88.3</td>
      <td class="gt_row gt_right">36</td>
      <td class="gt_row gt_right">7.2</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">-0.5</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">4</td>
      <td class="gt_row gt_left">SEA</td>
      <td class="gt_row gt_left">R. Wilson</td>
      <td class="gt_row gt_right">87.4</td>
      <td class="gt_row gt_right">46</td>
      <td class="gt_row gt_right">6.5</td>
      <td class="gt_row gt_right">-0.8</td>
      <td class="gt_row gt_right">-1.5</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_left">JAX</td>
      <td class="gt_row gt_left">G. Minshew II</td>
      <td class="gt_row gt_right">80.7</td>
      <td class="gt_row gt_right">29</td>
      <td class="gt_row gt_right">2.5</td>
      <td class="gt_row gt_right">-0.3</td>
      <td class="gt_row gt_right">-2.2</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">6</td>
      <td class="gt_row gt_left">NO</td>
      <td class="gt_row gt_left">D. Brees</td>
      <td class="gt_row gt_right">80.1</td>
      <td class="gt_row gt_right">36</td>
      <td class="gt_row gt_right">2.9</td>
      <td class="gt_row gt_right">-0.4</td>
      <td class="gt_row gt_right">-0.7</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">7</td>
      <td class="gt_row gt_left">ARI</td>
      <td class="gt_row gt_left">K. Murray</td>
      <td class="gt_row gt_right">80.0</td>
      <td class="gt_row gt_right">56</td>
      <td class="gt_row gt_right">3.7</td>
      <td class="gt_row gt_right">5.7</td>
      <td class="gt_row gt_right">-0.6</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">8</td>
      <td class="gt_row gt_left">TEN</td>
      <td class="gt_row gt_left">R. Tannehill</td>
      <td class="gt_row gt_right">78.5</td>
      <td class="gt_row gt_right">51</td>
      <td class="gt_row gt_right">8.4</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">-0.1</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">9</td>
      <td class="gt_row gt_left">CAR</td>
      <td class="gt_row gt_left">T. Bridgewater</td>
      <td class="gt_row gt_right">78.5</td>
      <td class="gt_row gt_right">41</td>
      <td class="gt_row gt_right">5.2</td>
      <td class="gt_row gt_right">0.8</td>
      <td class="gt_row gt_right">-0.5</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">10</td>
      <td class="gt_row gt_left">LV</td>
      <td class="gt_row gt_left">D. Carr</td>
      <td class="gt_row gt_right">74.2</td>
      <td class="gt_row gt_right">32</td>
      <td class="gt_row gt_right">3.7</td>
      <td class="gt_row gt_right">0.0</td>
      <td class="gt_row gt_right">0.0</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
</section>
<section id="code" class="panel-name panel">
<h2 class="panel-name">Code</h2>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
qbr_table &lt;- function(season_in, week_in){
  raw_df &lt;- get_nfl_qbr(season = season_in, week = week_in)
  
  raw_df %&gt;% 
    slice(1:10) %&gt;% 
    select(
      rk = rank, team, name = short_name, qbr = qbr_total, 
      plays = qb_plays, pass, run, sack
      ) %&gt;% 
    gt() %&gt;% 
    opt_all_caps() %&gt;% 
    tab_options(
      table.width = px(600),
      heading.title.font.weight = &quot;bold&quot;,
      heading.align = &quot;left&quot;
    ) %&gt;% 
    tab_header(
      title = paste(&quot;Top 10 QBs for week&quot;, week_in)
    )
}

qbr_table(2020, 1)</code></pre>
</div>
</section>
</div>
<p>Boom! Ready to share an update on the top 10 QBs by QBR for week 1, or week 2 or week 3, or week 16 from 2015, or ANY other week/season combo! Putting this all into a function lets us simply focus on which data to input and generate a nice table.</p>
<p>Note you could still do a lot to this table to get it publication ready or specific to your “brand”, which gets us into the next part - themes!</p>
<h2 id="gt-themes"><code>gt</code> Themes</h2>
<p>We’re going to explore 3 different formats for elegant tables with examples from ESPN, ProFootball Focus, and FiveThirtyEight. Of the three, I personally think that FiveThirtyEight has some of the best minimalist tables on the web right now, but for the sake of different tastes we’ll go through each!</p>
<p>Before diving <em>right</em> into the themes - I’d first like to show a quick example of a theme and walk through the code. Hopefully this gives you enough to make your own themes down the line! You can think of <code>gt</code> themes in a similar fashion to <code>ggplot2</code> themes. Just as <code>theme_bw()</code> just changes the appearance (eg theme) of the plot, a custom-defined <code>gt</code> theme will affect the overall appearance of a <code>gt</code> table (although as a function you could make it do even more!).</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  ggplot(aes(x = disp, y = mpg)) +
  geom_point() +
  # Here is a built in theme for ggplot2
  theme_bw()</code></pre>
<p><img src="functions-and-themes-for-gt-tables_files/figure-html5/unnamed-chunk-4-1.png" width="624" /></p>
</div>
<h3 id="basic-theme">Basic Theme</h3>
<p>The core idea of a theme is that it’s a function that passes <code>data</code> and <code>...</code>, where the <code>data</code> is actually a <code>gt</code> object, and the <code>...</code> are a placeholder for user-defined expressions. The <code>...</code> can also be called “dot-dot-dot”, “the dots” or “ellipsis”, and you can read more about them in the <a href="https://tidyeval.tidyverse.org/multiple.html#the-...-argument">Tidy evaluation book</a>. A quick quote about them from that book chapter:</p>
<blockquote>
<p>The dot-dot-dot argument is one of the nicest aspects of the R language. A function that takes <code>...</code> accepts any number of arguments, named or unnamed.</p>
</blockquote>
<p>What this really means is that we are leaving any argument on the table for <code>tab_options()</code> which has the widest range of possible arguments in <code>gt</code> (&gt; 100 possible arguments). You can see all the possible options in the <a href="https://gt.rstudio.com/reference/tab_options.html"><code>gt</code> reference</a>.</p>
<p>Our basic example passes data as the first argument into <code>tab_options()</code> and leaves an <code>...</code> inside <code>tab_options()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
basic_theme &lt;- function(data, ...){
  data %&gt;% 
    tab_options(
      table.background.color = &quot;purple&quot;,
      ...
    )
}</code></pre>
</div>
<p>If we use this theme, it will just change the table background color.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  head() %&gt;% 
  gt() %&gt;% 
  basic_theme()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#recwroquec .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: purple;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#recwroquec .gt_heading {
  background-color: purple;
  text-align: center;
  border-bottom-color: purple;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#recwroquec .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: purple;
  border-bottom-width: 0;
}

#recwroquec .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: purple;
  border-top-width: 0;
}

#recwroquec .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#recwroquec .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#recwroquec .gt_col_heading {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#recwroquec .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#recwroquec .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#recwroquec .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#recwroquec .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#recwroquec .gt_group_heading {
  padding: 8px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#recwroquec .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#recwroquec .gt_from_md > :first-child {
  margin-top: 0;
}

#recwroquec .gt_from_md > :last-child {
  margin-bottom: 0;
}

#recwroquec .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#recwroquec .gt_stub {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#recwroquec .gt_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#recwroquec .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#recwroquec .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#recwroquec .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#recwroquec .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#recwroquec .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#recwroquec .gt_footnotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#recwroquec .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#recwroquec .gt_sourcenotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#recwroquec .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#recwroquec .gt_left {
  text-align: left;
}

#recwroquec .gt_center {
  text-align: center;
}

#recwroquec .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#recwroquec .gt_font_normal {
  font-weight: normal;
}

#recwroquec .gt_font_bold {
  font-weight: bold;
}

#recwroquec .gt_font_italic {
  font-style: italic;
}

#recwroquec .gt_super {
  font-size: 65%;
}

#recwroquec .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="recwroquec" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.875</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.4</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">258</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.08</td>
      <td class="gt_row gt_right">3.215</td>
      <td class="gt_row gt_right">19.44</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.7</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">360</td>
      <td class="gt_row gt_right">175</td>
      <td class="gt_row gt_right">3.15</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.1</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">225</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">2.76</td>
      <td class="gt_row gt_right">3.460</td>
      <td class="gt_row gt_right">20.22</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>However, since we left the <code>...</code> inside our theme, we can pass additional arguments into the <code>basic_theme()</code>. Let’s chance the column label background to red.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  head() %&gt;% 
  gt() %&gt;% 
  basic_theme(
    column_labels.background.color = &quot;red&quot;
  )</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cszulvxybo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: purple;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cszulvxybo .gt_heading {
  background-color: purple;
  text-align: center;
  border-bottom-color: purple;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cszulvxybo .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: purple;
  border-bottom-width: 0;
}

#cszulvxybo .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: purple;
  border-top-width: 0;
}

#cszulvxybo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cszulvxybo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cszulvxybo .gt_col_heading {
  color: #FFFFFF;
  background-color: red;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cszulvxybo .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: red;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cszulvxybo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cszulvxybo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cszulvxybo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cszulvxybo .gt_group_heading {
  padding: 8px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cszulvxybo .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cszulvxybo .gt_from_md > :first-child {
  margin-top: 0;
}

#cszulvxybo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cszulvxybo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cszulvxybo .gt_stub {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#cszulvxybo .gt_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cszulvxybo .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#cszulvxybo .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cszulvxybo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cszulvxybo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cszulvxybo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cszulvxybo .gt_footnotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cszulvxybo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#cszulvxybo .gt_sourcenotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cszulvxybo .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#cszulvxybo .gt_left {
  text-align: left;
}

#cszulvxybo .gt_center {
  text-align: center;
}

#cszulvxybo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cszulvxybo .gt_font_normal {
  font-weight: normal;
}

#cszulvxybo .gt_font_bold {
  font-weight: bold;
}

#cszulvxybo .gt_font_italic {
  font-style: italic;
}

#cszulvxybo .gt_super {
  font-size: 65%;
}

#cszulvxybo .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="cszulvxybo" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.875</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">21.4</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">258</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.08</td>
      <td class="gt_row gt_right">3.215</td>
      <td class="gt_row gt_right">19.44</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.7</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">360</td>
      <td class="gt_row gt_right">175</td>
      <td class="gt_row gt_right">3.15</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.1</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">225</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">2.76</td>
      <td class="gt_row gt_right">3.460</td>
      <td class="gt_row gt_right">20.22</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>As a final note, you can keep piping the results into further <code>gt</code> arguments!</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  head() %&gt;% 
  gt() %&gt;% 
  basic_theme(
    column_labels.background.color = &quot;red&quot;,
    table.font.size = px(12),
    column_labels.font.size = px(20),
    row.striping.background_color = &quot;#9678b6&quot;,
    heading.align = &quot;left&quot;,
    heading.title.font.size = px(30)
  ) %&gt;% 
  opt_row_striping() %&gt;% 
  tab_header(title = &quot;Important table with theme&quot;)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xrcxlxkxbr .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #FFFFFF;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: purple;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xrcxlxkxbr .gt_heading {
  background-color: purple;
  text-align: left;
  border-bottom-color: purple;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xrcxlxkxbr .gt_title {
  color: #FFFFFF;
  font-size: 30px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: purple;
  border-bottom-width: 0;
}

#xrcxlxkxbr .gt_subtitle {
  color: #FFFFFF;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: purple;
  border-top-width: 0;
}

#xrcxlxkxbr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xrcxlxkxbr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xrcxlxkxbr .gt_col_heading {
  color: #FFFFFF;
  background-color: red;
  font-size: 20px;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xrcxlxkxbr .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: red;
  font-size: 20px;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xrcxlxkxbr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xrcxlxkxbr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xrcxlxkxbr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xrcxlxkxbr .gt_group_heading {
  padding: 8px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xrcxlxkxbr .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xrcxlxkxbr .gt_from_md > :first-child {
  margin-top: 0;
}

#xrcxlxkxbr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xrcxlxkxbr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xrcxlxkxbr .gt_stub {
  color: #FFFFFF;
  background-color: purple;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xrcxlxkxbr .gt_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xrcxlxkxbr .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xrcxlxkxbr .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: purple;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xrcxlxkxbr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xrcxlxkxbr .gt_striped {
  background-color: #9678b6;
}

#xrcxlxkxbr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xrcxlxkxbr .gt_footnotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xrcxlxkxbr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xrcxlxkxbr .gt_sourcenotes {
  color: #FFFFFF;
  background-color: purple;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xrcxlxkxbr .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xrcxlxkxbr .gt_left {
  text-align: left;
}

#xrcxlxkxbr .gt_center {
  text-align: center;
}

#xrcxlxkxbr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xrcxlxkxbr .gt_font_normal {
  font-weight: normal;
}

#xrcxlxkxbr .gt_font_bold {
  font-weight: bold;
}

#xrcxlxkxbr .gt_font_italic {
  font-style: italic;
}

#xrcxlxkxbr .gt_super {
  font-size: 65%;
}

#xrcxlxkxbr .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="xrcxlxkxbr" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="11" class="gt_heading gt_title gt_font_normal" style>Important table with theme</th>
    </tr>
    <tr>
      <th colspan="11" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">mpg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cyl</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">disp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">hp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">drat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">qsec</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">vs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">am</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">gear</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">carb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21.0</td>
      <td class="gt_row gt_right">6</td>
      <td class="gt_row gt_right">160</td>
      <td class="gt_row gt_right">110</td>
      <td class="gt_row gt_right">3.90</td>
      <td class="gt_row gt_right">2.620</td>
      <td class="gt_row gt_right">16.46</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right gt_striped">21.0</td>
      <td class="gt_row gt_right gt_striped">6</td>
      <td class="gt_row gt_right gt_striped">160</td>
      <td class="gt_row gt_right gt_striped">110</td>
      <td class="gt_row gt_right gt_striped">3.90</td>
      <td class="gt_row gt_right gt_striped">2.875</td>
      <td class="gt_row gt_right gt_striped">17.02</td>
      <td class="gt_row gt_right gt_striped">0</td>
      <td class="gt_row gt_right gt_striped">1</td>
      <td class="gt_row gt_right gt_striped">4</td>
      <td class="gt_row gt_right gt_striped">4</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">22.8</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">108</td>
      <td class="gt_row gt_right">93</td>
      <td class="gt_row gt_right">3.85</td>
      <td class="gt_row gt_right">2.320</td>
      <td class="gt_row gt_right">18.61</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">1</td>
      <td class="gt_row gt_right">4</td>
      <td class="gt_row gt_right">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right gt_striped">21.4</td>
      <td class="gt_row gt_right gt_striped">6</td>
      <td class="gt_row gt_right gt_striped">258</td>
      <td class="gt_row gt_right gt_striped">110</td>
      <td class="gt_row gt_right gt_striped">3.08</td>
      <td class="gt_row gt_right gt_striped">3.215</td>
      <td class="gt_row gt_right gt_striped">19.44</td>
      <td class="gt_row gt_right gt_striped">1</td>
      <td class="gt_row gt_right gt_striped">0</td>
      <td class="gt_row gt_right gt_striped">3</td>
      <td class="gt_row gt_right gt_striped">1</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">18.7</td>
      <td class="gt_row gt_right">8</td>
      <td class="gt_row gt_right">360</td>
      <td class="gt_row gt_right">175</td>
      <td class="gt_row gt_right">3.15</td>
      <td class="gt_row gt_right">3.440</td>
      <td class="gt_row gt_right">17.02</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_right">3</td>
      <td class="gt_row gt_right">2</td>
    </tr>
    <tr>
      <td class="gt_row gt_right gt_striped">18.1</td>
      <td class="gt_row gt_right gt_striped">6</td>
      <td class="gt_row gt_right gt_striped">225</td>
      <td class="gt_row gt_right gt_striped">105</td>
      <td class="gt_row gt_right gt_striped">2.76</td>
      <td class="gt_row gt_right gt_striped">3.460</td>
      <td class="gt_row gt_right gt_striped">20.22</td>
      <td class="gt_row gt_right gt_striped">1</td>
      <td class="gt_row gt_right gt_striped">0</td>
      <td class="gt_row gt_right gt_striped">3</td>
      <td class="gt_row gt_right gt_striped">1</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<p>NOTE: While I’ve passed multiple arguments to our theme function as a show of possibility, the goal here is to push as much as the default theme elements you want to change into our theme function ahead of time to save repetitive typing!</p>
<p>Enough of fun but toy examples - let’s dive into the <em>real</em> themes!</p>
<hr />
<h3 id="espn">ESPN</h3>
<p>Our ESPN table is again using the original <a href="https://www.espn.com/nfl/qbr">QBR data</a>, and they are clean and simple. All caps on the column labels, row striping, but also add the player’s team as smaller gray text after the player’s name. Note that they also use hyperlinks to the player page (I’ll just focus on showing an example of blue text). Lastly, ESPN also uses interactive tables so there is a highlighted column for sorting. I’ll cover <code>reactable</code> themes on a later date so for now we’ll focus on static HTML with <code>gt</code>.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="panelset">
<div class="panel">
<p><span class="panel-name">ESPN Table</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="espn-themed-gt.png" width="930" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Original</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="espn-tab.png" width="100%" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Table Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
espn_qbr &lt;- espnscrapeR::get_nfl_qbr(2020) %&gt;% 
  select(
    rk = rank, team, name, qbr = qbr_total, paa = points_added, plays = qb_plays,
    epa = total_epa, pass, run, sack, pen = penalty, raw = raw_qbr
    )

espn_qbr %&gt;% 
  mutate(name = paste0(
    &quot;&lt;span style=&#39;font-size:16px; color:royalblue;&#39;&gt;&quot;,
    name,
    &quot;&lt;/span&gt;&quot;,
    &quot; &lt;span style=&#39;font-size:12px; color:grey;&#39;&gt;&quot;,
    word(team, start = -1), &quot;&lt;/span&gt;&quot;),
    name = map(name, ~gt::html(as.character(.x)))
  ) %&gt;%
  select(-team) %&gt;% 
  slice(1:15) %&gt;% 
  gt() %&gt;% 
  tab_header(title = md(&quot;**NFL Total QBR - 2020 Season Leaders**&quot;)) %&gt;% 
  gt_theme_espn() %&gt;% 
  cols_align(&quot;left&quot;, columns = vars(name)) %&gt;% 
  tab_source_note(md(&quot;**Data:** ESPN&lt;br&gt;**Table:** @thomas_mock&quot;))</code></pre>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Theme Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
gt_theme_espn &lt;- function(data, ...){
  data %&gt;% 
    opt_all_caps()  %&gt;%
    opt_table_font(
      font = list(
        google_font(&quot;Lato&quot;),
        default_fonts()
      )
    )  %&gt;% 
    opt_row_striping() %&gt;% 
    tab_options(
      row.striping.background_color = &quot;#fafafa&quot;,
      table_body.hlines.color = &quot;#f6f7f7&quot;,
      source_notes.font.size = 12,
      table.font.size = 16,
      table.width = px(700),
      heading.align = &quot;left&quot;,
      heading.title.font.size = 24,
      table.border.top.color = &quot;transparent&quot;,
      table.border.top.width = px(3),
      data_row.padding = px(7),
      ...
    ) 
}</code></pre>
</div>
</div>
</div>
<hr />
<h3 id="pff">PFF</h3>
<p>The data for this example is <strong>FAKE</strong> example data for some edge defenders. Quick example <code>gt</code> of this data below.</p>
<div class="panelset">
<section id="table-1" class="panel-name panel">
<h2 class="panel-name">Table</h2>
<div class="layout-chunk" data-layout="l-body">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#gnqwudxpiv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gnqwudxpiv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gnqwudxpiv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gnqwudxpiv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gnqwudxpiv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gnqwudxpiv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gnqwudxpiv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gnqwudxpiv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gnqwudxpiv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gnqwudxpiv .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#gnqwudxpiv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gnqwudxpiv .gt_from_md > :first-child {
  margin-top: 0;
}

#gnqwudxpiv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gnqwudxpiv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gnqwudxpiv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#gnqwudxpiv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gnqwudxpiv .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#gnqwudxpiv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gnqwudxpiv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gnqwudxpiv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gnqwudxpiv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gnqwudxpiv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#gnqwudxpiv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gnqwudxpiv .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#gnqwudxpiv .gt_left {
  text-align: left;
}

#gnqwudxpiv .gt_center {
  text-align: center;
}

#gnqwudxpiv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gnqwudxpiv .gt_font_normal {
  font-weight: normal;
}

#gnqwudxpiv .gt_font_bold {
  font-weight: bold;
}

#gnqwudxpiv .gt_font_italic {
  font-style: italic;
}

#gnqwudxpiv .gt_super {
  font-size: 65%;
}

#gnqwudxpiv .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="gnqwudxpiv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">rank</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">team</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">number</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">def</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">rdef</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">prush</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_center">1</td>
      <td class="gt_row gt_left">F.Name 8</td>
      <td class="gt_row gt_left">NO</td>
      <td class="gt_row gt_center">85</td>
      <td class="gt_row gt_right">92.4</td>
      <td class="gt_row gt_right">75.1</td>
      <td class="gt_row gt_right">59.2</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">2</td>
      <td class="gt_row gt_left">F.Name 10</td>
      <td class="gt_row gt_left">DET</td>
      <td class="gt_row gt_center">55</td>
      <td class="gt_row gt_right">92.1</td>
      <td class="gt_row gt_right">80.8</td>
      <td class="gt_row gt_right">60.1</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">3</td>
      <td class="gt_row gt_left">F.Name 11</td>
      <td class="gt_row gt_left">MIN</td>
      <td class="gt_row gt_center">57</td>
      <td class="gt_row gt_right">91.7</td>
      <td class="gt_row gt_right">85.1</td>
      <td class="gt_row gt_right">68.7</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">4</td>
      <td class="gt_row gt_left">F.Name 1</td>
      <td class="gt_row gt_left">PIT</td>
      <td class="gt_row gt_center">77</td>
      <td class="gt_row gt_right">91.5</td>
      <td class="gt_row gt_right">73.0</td>
      <td class="gt_row gt_right">72.9</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_left">F.Name 15</td>
      <td class="gt_row gt_left">DEN</td>
      <td class="gt_row gt_center">52</td>
      <td class="gt_row gt_right">91.1</td>
      <td class="gt_row gt_right">89.7</td>
      <td class="gt_row gt_right">75.4</td>
    </tr>
    <tr>
      <td class="gt_row gt_center">6</td>
      <td class="gt_row gt_left">F.Name 2</td>
      <td class="gt_row gt_left">KC</td>
      <td class="gt_row gt_center">93</td>
      <td class="gt_row gt_right">88.9</td>
      <td class="gt_row gt_right">59.8</td>
      <td class="gt_row gt_right">86.3</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
</section>
<section id="code-1" class="panel-name panel">
<h2 class="panel-name">Code</h2>
<div class="layout-chunk" data-layout="l-page">
<pre class="r"><code>
# Get the team logos
team_df &lt;- espnscrapeR::get_nfl_teams() %&gt;% 
  select(team = team_short_name, logo)

n_play &lt;- 15

# set seed for reproducibility
set.seed(2020)

# generate fake data
fake_df &lt;- tibble(
  rank = c(1:n_play),
  name = paste0(&quot;F.Name &quot;, 1:n_play),
  team = c(
    &quot;PIT&quot;, &quot;KC&quot;, &quot;CLE&quot;, &quot;HOU&quot;, &quot;BAL&quot;, &quot;JAX&quot;, &quot;LV&quot;, &quot;NO&quot;, 
    &quot;LAR&quot;, &quot;DET&quot;, &quot;MIN&quot;, &quot;NYJ&quot;, &quot;DAL&quot;, &quot;CAR&quot;, &quot;DEN&quot;),
  number = sample(50:99, size = n_play),
  def = runif(n_play, min = 50.0, 94.0),
  rdef = runif(n_play, min = 50.0, 94.0),
  prush = runif(n_play, min = 50.0, 94.0),
  cov = runif(n_play, min = 50.0, 94.0),
  def_snaps = sample(85:130, size = n_play),
  rdef_snaps = sample(12:40, size = n_play),
  prush_snaps = NA,
  cov_snaps = sample(0:10, size = n_play, replace = TRUE)
  ) %&gt;% 
  mutate(
    prush_snaps = def_snaps - rdef_snaps - cov_snaps
  ) %&gt;%
  left_join(team_df) %&gt;%
  select(rank:name, logo, everything()) %&gt;% 
  arrange(desc(def)) %&gt;% 
  mutate(rank = row_number())

fake_df %&gt;% 
  select(1:8, -logo) %&gt;% 
  head() %&gt;% 
  gt() %&gt;%
  fmt_number(
    columns = 5:7,
    decimals = 1
  )</code></pre>
</div>
</section>
</div>
<p>Now, that’s an ok table, but we can do a lot better with a theme, especially one to relatively match the theme PFF uses! Example from their <a href="https://www.pff.com/nfl/grades/position/ed">Position Grade data</a>.</p>
<p>There’s a few things of interest we want to do to:<br />
- Row striping without horizontal lines<br />
- Dark gray column labels background (but light gray for spanners) and all caps labels<br />
- Team logos<br />
- Bold text for PFF grade, but normal weights for snap counts</p>
<div class="panelset">
<div class="panel">
<p><span class="panel-name">PFF-themed Table</span></p>
<div class="layout-chunk" data-layout="l-page">
<p><img src="pff-themed-gt.png" width="1045" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">PFF Example</span></p>
<div class="layout-chunk" data-layout="l-page">
<p><img src="pff-example.png" width="463" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Table Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
fake_df %&gt;% 
  gt() %&gt;% 
  fmt_number(
    columns = 6:9,
    decimals = 1
    ) %&gt;% 
  gt_theme_pff()</code></pre>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Theme Code</span></p>
<div class="layout-chunk" data-layout="l-page">
<pre class="r"><code>
gt_theme_pff &lt;- function(data, ...) {
  data %&gt;%
    # Add team logos w/ web_image
    text_transform(
      locations = cells_body(
        vars(logo)
      ),
      fn = function(x) {
        web_image(
          url = x,
          height = 25
        )
      }
    ) %&gt;%
    # add spanner for PFF Grade
    tab_spanner(
      label = &quot;PFF GRADE&quot;,
      columns = vars(def, rdef, prush, cov)
    ) %&gt;%
    # add spanner for SNAPS
    tab_spanner(
      label = &quot;SNAPS&quot;,
      columns = contains(&quot;snaps&quot;)
    ) %&gt;%
    # Add a &quot;blank&quot; spanner to add white space
    tab_spanner(
      label = &quot;BLANK&quot;,
      columns = 1:5
    ) %&gt;%
    # Relabel columns
    cols_label(
      def_snaps = &quot;DEF&quot;,
      rdef_snaps = &quot;RDEF&quot;,
      prush_snaps = &quot;PRUSH&quot;,
      cov_snaps = &quot;COV&quot;,
      number = &quot;#&quot;,
      logo = &quot;&quot;
    ) %&gt;%
    # if missing, replace NA w/ ---
    fmt_missing(
      columns = everything(),
      missing_text = &quot;---&quot;
    ) %&gt;%
    # add exact color from PFF table to spanners
    tab_style(
      style = list(
        cell_fill(color = &quot;#e4e8ed&quot;),
        cell_text(color = &quot;#878e94&quot;),
        cell_borders(sides = &quot;left&quot;, color = &quot;white&quot;, weight = px(3))
      ),
      locations = list(
        cells_column_spanners(
          spanners = c(&quot;PFF GRADE&quot;, &quot;SNAPS&quot;)
        )
      )
    ) %&gt;%
    # hide spanner with transparent color
    tab_style(
      style = list(
        cell_fill(color = &quot;transparent&quot;),
        cell_text(color = &quot;transparent&quot;)
      ),
      locations = list(
        cells_column_spanners(
          spanners = c(&quot;BLANK&quot;)
        )
      )
    ) %&gt;%
    # Change font color and weight for numeric col
    tab_style(
      style = list(
        cell_text(color = &quot;#3a3d42&quot;, weight = &quot;bold&quot;)
      ),
      locations = cells_body(
        columns = 5:9
      )
    ) %&gt;%
    # Add pound sign in front of numbers
    text_transform(
      locations = cells_body(
        columns = vars(number)
      ),
      fn = function(x) {
        paste0(&quot;#&quot;, x)
      }
    ) %&gt;%
    # Make column labels and spanners all caps
    opt_all_caps() %&gt;%
    # add row striping
    opt_row_striping() %&gt;%
    # change overall table styling for borders and striping
    tab_options(
      column_labels.background.color = &quot;#585d63&quot;,
      table_body.hlines.color = &quot;transparent&quot;,
      table.border.top.width = px(3),
      table.border.top.color = &quot;transparent&quot;,
      table.border.bottom.color = &quot;transparent&quot;,
      table.border.bottom.width = px(3),
      column_labels.border.top.width = px(3),
      column_labels.border.top.color = &quot;transparent&quot;,
      column_labels.border.bottom.width = px(3),
      column_labels.border.bottom.color = &quot;transparent&quot;,
      row.striping.background_color = &quot;#f9f9fb&quot;,
      data_row.padding = px(3),
      ...
    ) %&gt;%
    cols_width(
      1 ~ px(75),
      2 ~ px(125),
      3 ~ px(30),
      4 ~ px(40),
      everything() ~ px(60)
    ) %&gt;% 
    # change color of border separating the text from the sourcenote
    tab_style(
      style = cell_borders(
        sides = &quot;bottom&quot;, color = &quot;#585d63&quot;, weight = px(2)
      ),
      locations = cells_body(
        columns = TRUE,
        rows = nrow(data$`_data`)
      )
    ) %&gt;%
    # change font to Lato throughout (note no need to have Lato locally!)
    opt_table_font(
      font = c(
        google_font(name = &quot;Lato&quot;),
        default_fonts()
      )
    ) %&gt;%
    # add source note
    tab_source_note(
      source_note = md(&quot;**Data:** _FAKE DATA_ Pro Football Focus&lt;br&gt;**Table:** @thomas_mock&quot;)
    )
}</code></pre>
</div>
</div>
</div>
<p>While this theme is great, it’s very tailored to this specific data, so it’s closer to a function to generate PFF defensive grade tables. This is fine, as it would greatly speed up the ability to generate these for sharing somewhere, but it’s not a very <code>generic</code> function that could be used for novel data structures. This is mainly as we are doing some sneaky things to get the grey boxes around <code>PFF GRADE</code> and <code>SNAPS</code> that involve transparent backgrounds at specific locations. You could adapt big chunks of this code to use elsewhere though, and note that it would still work for CBs, LBs, Edge, DL, and Safeties. That’s pretty useful!</p>
<hr />
<h3 id="fivethirtyeight">FiveThirtyEight</h3>
<p>Now, since FiveThirtyEight tables are more minimal, the theme we’ll use for those tables can be essentially be extended to almost any table! The original data and table come from a <a href="https://fivethirtyeight.com/features/sorry-running-backs-even-your-receiving-value-can-be-easily-replaced/">FiveThirtyEight article</a> from 2018.</p>
<div class="panelset">
<section id="fivethirtyeight-table" class="panel-name panel">
<h2 class="panel-name">FiveThirtyEight Table</h2>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="538-themed-gt.png" width="534" /></p>
</div>
</section>
<section id="original" class="panel-name panel">
<h2 class="panel-name">Original</h2>
<div class="layout-chunk" data-layout="l-body">
<p><img src="538-table.png" width="75%" /></p>
</div>
</section>
<section id="table-code" class="panel-name panel">
<h2 class="panel-name">Table Code</h2>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
library(rvest)

url &lt;- &quot;https://fivethirtyeight.com/features/sorry-running-backs-even-your-receiving-value-can-be-easily-replaced/&quot;

rb_receiving &lt;- url %&gt;% 
  xml2::read_html() %&gt;% 
  rvest::html_table() %&gt;% 
  purrr::chuck(1) %&gt;% 
  purrr::set_names(nm = c(&quot;team&quot;, &quot;attempts&quot;, &quot;successful&quot;, &quot;success_rate&quot;)) %&gt;% 
  dplyr::as_tibble() %&gt;% 
  filter(team != &quot;team&quot;) %&gt;% 
  mutate(success_rate = stringr::str_remove(success_rate, &quot;%&quot;)) %&gt;% 
  mutate(across(c(attempts:success_rate), as.double))</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
tab_538 &lt;- rb_receiving %&gt;%
  gt() %&gt;%
  tab_spanner(
    label = &quot;PASSES TO RBS&quot;,
    columns = vars(attempts, successful)
  ) %&gt;% 
  data_color(
    columns = vars(success_rate),
    colors = scales::col_numeric(
      palette = c(&quot;white&quot;, &quot;#3fc1c9&quot;),
      domain = NULL
    )
  ) %&gt;% 
  cols_label(
    success_rate = &quot;SUCCESS RATE (%)&quot;
  ) %&gt;% 
  tab_source_note(
    source_note = md(&quot;SOURCE: ESPN STATS &amp; INFORMATION GROUP&lt;br&gt;TABLE: @THOMAS_MOCK&quot;)
  ) %&gt;% 
  gt_theme_538(table.width = px(550))</code></pre>
</div>
</section>
<section id="theme-code" class="panel-name panel">
<h2 class="panel-name">Theme Code</h2>
<p>Here’s the theme code for the FiveThirtyEight theme.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
gt_theme_538 &lt;- function(data,...) {
  data %&gt;%
  opt_all_caps()  %&gt;%
  opt_table_font(
    font = list(
      google_font(&quot;Chivo&quot;),
      default_fonts()
    )
  ) %&gt;%
    tab_style(
      style = cell_borders(
        sides = &quot;bottom&quot;, color = &quot;transparent&quot;, weight = px(2)
      ),
      locations = cells_body(
        columns = TRUE,
        # This is a relatively sneaky way of changing the bottom border
        # Regardless of data size
        rows = nrow(data$`_data`)
      )
    )  %&gt;% 
  tab_options(
    column_labels.background.color = &quot;white&quot;,
    table.border.top.width = px(3),
    table.border.top.color = &quot;transparent&quot;,
    table.border.bottom.color = &quot;transparent&quot;,
    table.border.bottom.width = px(3),
    column_labels.border.top.width = px(3),
    column_labels.border.top.color = &quot;transparent&quot;,
    column_labels.border.bottom.width = px(3),
    column_labels.border.bottom.color = &quot;black&quot;,
    data_row.padding = px(3),
    source_notes.font.size = 12,
    table.font.size = 16,
    heading.align = &quot;left&quot;,
    ...
  ) 
}</code></pre>
</div>
</section>
</div>
<p>Now, since that data is public via <code>nflfastR</code>, we could try and recreate that table for 2018 or 2019 (or really any year between 1999 and 2020). There’s a small amount of difference between what FiveThirtyEight reported and what we calculated with <code>nflfastR</code> data, but perhaps they excluded some other plays (or excluded FBs). Feel free to dive in a bit deeper if you’re interested in recreating (all the code is included below).</p>
<div class="panelset">
<div class="panel">
<p><span class="panel-name">2018 Table</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="rb-pass-2018.png" width="500px" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">2019 Table</span></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="rb-pass-2019.png" width="500px" /></p>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Table Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
# 2018 recreation
season_stats %&gt;% 
  filter(season == 2018) %&gt;% 
  select(-season) %&gt;% 
  gt() %&gt;%
  tab_spanner(
    label = &quot;PASSES TO RBS&quot;,
    columns = vars(Attempts, Successful)
  ) %&gt;% 
  tab_header(
    title = md(&quot;**The Chiefs got the most out of the running back pass**&quot;),
    subtitle = md(&quot;NFL teams by success rate of passes to running backs, as measured by positive&lt;br&gt;expected points added, for the 2018 regular season&quot;)
    ) %&gt;% 
  data_color(
    columns = vars(success_rate),
    colors = scales::col_numeric(
      palette = c(&quot;white&quot;, &quot;#3fc1c9&quot;),
      domain = NULL
    )
  ) %&gt;% 
  cols_label(
    success_rate = &quot;SUCCESS RATE (%)&quot;
  ) %&gt;% 
  tab_source_note(
    source_note = md(&quot;SOURCE: NFLFASTR&lt;br&gt;TABLE: @THOMAS_MOCK&quot;)
  ) %&gt;% 
  gt_theme_538(table.width = px(550))

# 2019 table
season_stats %&gt;% 
  filter(season == 2019) %&gt;% 
  select(-season) %&gt;% 
  gt() %&gt;%
  tab_header(
    title = md(&quot;**The Panthers got the most out of the running back pass**&quot;),
    subtitle = md(&quot;NFL teams by success rate of passes to running backs, as measured by positive&lt;br&gt;expected points added, for the 2019 regular season&quot;)
    ) %&gt;% 
  tab_spanner(
    label = &quot;PASSES TO RBS&quot;,
    columns = vars(Attempts, Successful)
  ) %&gt;% 
  data_color(
    columns = vars(success_rate),
    colors = scales::col_numeric(
      palette = c(&quot;white&quot;, &quot;#3fc1c9&quot;),
      domain = NULL
    )
  ) %&gt;% 
  cols_label(
    success_rate = &quot;SUCCESS RATE (%)&quot;
  ) %&gt;% 
  tab_source_note(
    source_note = md(&quot;SOURCE: NFLFASTR&lt;br&gt;TABLE: @THOMAS_MOCK&quot;)
  ) %&gt;% 
  gt_theme_538(table.width = px(550))</code></pre>
</div>
</div>
<div class="panel">
<p><span class="panel-name">Data Code</span></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
rosters &lt;- read_csv(&quot;https://raw.githubusercontent.com/guga31bb/nflfastR-data/master/roster-data/roster.csv&quot;) %&gt;%
  filter(teamPlayers.position %in% c(&quot;QB&quot;, &quot;WR&quot;, &quot;RB&quot;, &quot;FB&quot;, &quot;TE&quot;), team.season %in% c(2018, 2019)) %&gt;% 
  select(
    position = teamPlayers.position, receiver_jersey_number = teamPlayers.jerseyNumber, 
    posteam = team.abbr, season = team.season
    )

seasons &lt;- 2018:2019

pbp &lt;- purrr::map_df(seasons, function(x) {
  readr::read_csv(
    glue::glue(&quot;https://raw.githubusercontent.com/guga31bb/nflfastR-data/master/data/play_by_play_{x}.csv.gz&quot;)
  )
})

data_clean &lt;- pbp %&gt;%
  filter(pass == 1 &amp; sack == 0 &amp; qb_scramble == 0, !is.na(receiver_jersey_number)) %&gt;%
  filter(week &lt;= 17) %&gt;% 
  select(
    season, name, pass, desc, posteam, epa, defteam, complete_pass, incomplete_pass,
    air_yards, receiver_player_name, receiver_jersey_number, down, success, complete_pass
  ) %&gt;%
  left_join(rosters, by = c(&quot;receiver_jersey_number&quot;, &quot;posteam&quot;, &quot;season&quot;)) %&gt;% 
  filter(!is.na(position)) %&gt;% 
  mutate(position = if_else(position == &quot;FB&quot;, &quot;RB&quot;, position))

pos &lt;- data_clean %&gt;%
  filter(position == &quot;RB&quot;)

season_stats &lt;- pos %&gt;% 
  filter(!is.na(success)) %&gt;% 
  select(posteam, success, season) %&gt;% 
  group_by(season) %&gt;% 
  add_count(posteam) %&gt;% 
  count(posteam, success) %&gt;% 
  mutate(success = if_else(success == 0, &quot;Attempts&quot;, &quot;Successful&quot;)) %&gt;% 
  pivot_wider(names_from = success, values_from = n) %&gt;% 
  mutate(
    Attempts = Successful + Attempts,
    success_rate = Successful/Attempts,
    success_rate = round(success_rate, digits = 3) * 100
    ) %&gt;% 
  arrange(desc(success_rate)) %&gt;% 
  ungroup()</code></pre>
</div>
</div>
</div>
<p>Last example - remember that our ESPN or FiveThirtyEight themes can be applied to novel data structures, while the PFF theme made additional changes for <code>gt</code> that were specific to at least the same columns we expect.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  slice(1:10) %&gt;% 
  gt() %&gt;% 
  gt_theme_538() %&gt;% 
  tab_header(title = md(&quot;**FiveThirtyEight Style**&quot;))</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="538-style.png" width="500px" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
mtcars %&gt;% 
  slice(1:10) %&gt;% 
  gt() %&gt;% 
  gt_theme_espn() %&gt;% 
  tab_header(title = md(&quot;**ESPN Style**&quot;))</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="espn-style.png" width="700px" /></p>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
